<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<title>lean4-tactics-myst.md</title>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="pygments.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Lean4 v4.0.0-nightly-2022-03-07. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><div class="document">


<div class="tex2jax_ignore mathjax_ignore section" id="theorem-proving-in-lean-4-tactics">
<h1>Theorem Proving in Lean 4 - Tactics</h1>
<p>.. alectryon-toggle::</p>
<p>To compile::</p>
<p>alectryon lean4-tactics-MyST.md
# reST+Lean4 ‚Üí HTML; produces ‚Äòlean4-tactics-MyST.html‚Äô</p>
<p>.. note::</p>
<p>The original document is at https://leanprover.github.io/theorem_proving_in_lean4/</p>
</div>
<div class="tex2jax_ignore mathjax_ignore section" id="tactics">
<h1>Tactics</h1>
<p>In this chapter, we describe an alternative approach to constructing
proofs, using <em>tactics</em>.  A proof term is a representation of a
mathematical proof; tactics are commands, or instructions, that
describe how to build such a proof. Informally, you might begin a
mathematical proof by saying &quot;to prove the forward direction, unfold
the definition, apply the previous lemma, and simplify.&quot; Just as these
are instructions that tell the reader how to find the relevant proof,
tactics are instructions that tell Lean how to construct a proof
term. They naturally support an incremental style of writing proofs,
in which you decompose a proof and work on goals one step at a time.</p>
<p>We will describe proofs that consist of sequences of tactics as
&quot;tactic-style&quot; proofs, to contrast with the ways of writing proof
terms we have seen so far, which we will call &quot;term-style&quot;
proofs. Each style has its own advantages and disadvantages. For
example, tactic-style proofs can be harder to read, because they
require the reader to predict or guess the results of each
instruction. But they can also be shorter and easier to
write. Moreover, tactics offer a gateway to using Lean's automation,
since automated procedures are themselves tactics.</p>
<div class="section" id="entering-tactic-mode">
<h2>Entering Tactic Mode</h2>
<p>Conceptually, stating a theorem or introducing a <tt class="docutils literal">have</tt> statement
creates a goal, namely, the goal of constructing a term with the
expected type. For example, the following creates the goal of
constructing a term of type <tt class="docutils literal">p ‚àß q ‚àß p</tt>, in a context with constants
<tt class="docutils literal">p q : Prop</tt>, <tt class="docutils literal">hp : p</tt> and <tt class="docutils literal">hq : q</tt>:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">theorem</span> test (p q : <span class="kt">Prop</span>) (hp : p) (hq : q) : p <span class="bp">‚àß</span> q <span class="bp">‚àß</span> p :=
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk0"><span class="gr">sorry</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">&#39;</span><span class="gr">sorry</span><span class="bp">&#39;</span></blockquote></div></div></small></span></pre><p>You can write this goal as follows:</p>
<pre class="literal-block">
    p : Prop, q : Prop, hp : p, hq : q ‚ä¢ p ‚àß q ‚àß p

</pre>
<p>Indeed, if you replace the &quot;sorry&quot; by an underscore in the example
above, Lean will report that it is exactly this goal that has been
left unsolved.</p>
<p>Ordinarily, you meet such a goal by writing an explicit term. But
wherever a term is expected, Lean allows us to insert instead a <tt class="docutils literal">by &lt;tactics&gt;</tt> block, where <tt class="docutils literal">&lt;tactics&gt;</tt> is a sequence of commands,
separated by semicolons or line breaks. You can prove the theorem above
in that way:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1">test</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Error: <span class="bp">&#39;</span>test&#39; has already been declared</blockquote></div></div></small></span><span class="alectryon-wsp"> (p q : <span class="kt">Prop</span>) (hp : p) (hq : q) : p <span class="bp">‚àß</span> q <span class="bp">‚àß</span> p :=
  <span class="kd">by</span> apply And.intro
     exact hp
     apply And.intro
     exact hq
     exact hp</span></pre><p>We often put the <tt class="docutils literal">by</tt> keyword on the preceding line, and write the
example above as</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2">test</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Error: <span class="bp">&#39;</span>test&#39; has already been declared</blockquote></div></div></small></span><span class="alectryon-wsp"> (p q : <span class="kt">Prop</span>) (hp : p) (hq : q) : p <span class="bp">‚àß</span> q <span class="bp">‚àß</span> p := <span class="kd">by</span>
  apply And.intro
  exact hp
  apply And.intro
  exact hq
  exact hp</span></pre><p>The <tt class="docutils literal">apply</tt> tactic applies an expression, viewed as denoting a
function with zero or more arguments. It unifies the conclusion with
the expression in the current goal, and creates new goals for the
remaining arguments, provided that no later arguments depend on
them. In the example above, the command <tt class="docutils literal">apply And.intro</tt> yields two
subgoals:</p>
<pre class="literal-block">
    case left
    p : Prop,
    q : Prop,
    hp : p,
    hq : q
    ‚ä¢ p

    case right
    p : Prop,
    q : Prop,
    hp : p,
    hq : q
    ‚ä¢ q ‚àß p

</pre>
<p>The first goal is met with the command <tt class="docutils literal">exact hp</tt>. The <tt class="docutils literal">exact</tt>
command is just a variant of <tt class="docutils literal">apply</tt> which signals that the
expression given should fill the goal exactly. It is good form to use
it in a tactic proof, since its failure signals that something has
gone wrong. It is also more robust than <tt class="docutils literal">apply</tt>, since the
elaborator takes the expected type, given by the target of the goal,
into account when processing the expression that is being applied. In
this case, however, <tt class="docutils literal">apply</tt> would work just as well.</p>
<p>You can see the resulting proof term with the <tt class="docutils literal">#print</tt> command:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="bp">#</span> <span class="kd">theorem</span> test (p q : <span class="kt">Prop</span>) (hp : p) (hq : q) : p <span class="bp">‚àß</span> q <span class="bp">‚àß</span> p := <span class="kd">by</span>
<span class="bp">#</span>  apply And.intro
<span class="bp">#</span>  exact hp
<span class="bp">#</span>  apply And.intro
<span class="bp">#</span>  exact hq
<span class="bp">#</span>  exact hp
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk3"><span class="k">#print</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="kd">theorem</span> test : <span class="bp">‚àÄ</span> (p q : <span class="kt">Prop</span>), p <span class="bp">‚Üí</span> q <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> q <span class="bp">‚àß</span> p :=
<span class="k">fun</span> p q hp hq <span class="bp">=&gt;</span> sorryAx (p <span class="bp">‚àß</span> q <span class="bp">‚àß</span> p) false</blockquote></div></div></small></span><span class="alectryon-wsp"> test</span></pre><p>You can write a tactic script incrementally. In VS Code, you can open
a window to display messages by pressing <tt class="docutils literal"><span class="pre">Ctrl-Shift-Enter</span></tt>, and
that window will then show you the current goal whenever the cursor is
in a tactic block. In Emacs, you can see the goal at the end of any
line by pressing <tt class="docutils literal"><span class="pre">C-c</span> <span class="pre">C-g</span></tt>, or see the remaining goal in an
incomplete proof by putting the cursor after the first character of
the last tactic. If the proof is incomplete, the token <tt class="docutils literal">by</tt> is
decorated with a red squiggly line, and the error message contains the
remaining goals.</p>
<p>Tactic commands can take compound expressions, not just single
identifiers. The following is a shorter version of the preceding
proof:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk4">test</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Error: <span class="bp">&#39;</span>test&#39; has already been declared</blockquote></div></div></small></span><span class="alectryon-wsp"> (p q : <span class="kt">Prop</span>) (hp : p) (hq : q) : p <span class="bp">‚àß</span> q <span class="bp">‚àß</span> p := <span class="kd">by</span>
  apply And.intro hp
  exact And.intro hq hp</span></pre><p>Unsurprisingly, it produces exactly the same proof term.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="bp">#</span> <span class="kd">theorem</span> test (p q : <span class="kt">Prop</span>) (hp : p) (hq : q) : p <span class="bp">‚àß</span> q <span class="bp">‚àß</span> p := <span class="kd">by</span>
<span class="bp">#</span>  apply And.intro hp
<span class="bp">#</span>  exact And.intro hq hp
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk5"><span class="k">#print</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="kd">theorem</span> test : <span class="bp">‚àÄ</span> (p q : <span class="kt">Prop</span>), p <span class="bp">‚Üí</span> q <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> q <span class="bp">‚àß</span> p :=
<span class="k">fun</span> p q hp hq <span class="bp">=&gt;</span> sorryAx (p <span class="bp">‚àß</span> q <span class="bp">‚àß</span> p) false</blockquote></div></div></small></span><span class="alectryon-wsp"> test</span></pre><p>Multiple tactic applications can be written in a single line by concatenating with a semicolon.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk6">test</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Error: <span class="bp">&#39;</span>test&#39; has already been declared</blockquote></div></div></small></span><span class="alectryon-wsp"> (p q : <span class="kt">Prop</span>) (hp : p) (hq : q) : p <span class="bp">‚àß</span> q <span class="bp">‚àß</span> p := <span class="kd">by</span>
  apply And.intro hp<span class="bp">;</span> exact And.intro hq hp</span></pre><p>Tactics that may produce multiple subgoals often tag them. For
example, the tactic <tt class="docutils literal">apply And.intro</tt> tagged the first sugoal as
<tt class="docutils literal">left</tt>, and the second as <tt class="docutils literal">right</tt>. In the case of the <tt class="docutils literal">apply</tt>
tactic, the tags are inferred from the parameters names used in the
<tt class="docutils literal">And.intro</tt> declaration. You can structure your tactics using the
notation <tt class="docutils literal">case &lt;tag&gt; =&gt; &lt;tactics&gt;</tt>. The following is a structured
version of our first tactic proof in this chapter.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk7">test</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Error: <span class="bp">&#39;</span>test&#39; has already been declared</blockquote></div></div></small></span><span class="alectryon-wsp"> (p q : <span class="kt">Prop</span>) (hp : p) (hq : q) : p <span class="bp">‚àß</span> q <span class="bp">‚àß</span> p := <span class="kd">by</span>
  apply And.intro
  case left <span class="bp">=&gt;</span> exact hp
  case right <span class="bp">=&gt;</span>
    apply And.intro
    case left <span class="bp">=&gt;</span> exact hq
    case right <span class="bp">=&gt;</span> exact hp</span></pre><p>You can solve the subgoal <tt class="docutils literal">right</tt> before <tt class="docutils literal">left</tt> using the <tt class="docutils literal">case</tt>
notation</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk8">test</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Error: <span class="bp">&#39;</span>test&#39; has already been declared</blockquote></div></div></small></span><span class="alectryon-wsp"> (p q : <span class="kt">Prop</span>) (hp : p) (hq : q) : p <span class="bp">‚àß</span> q <span class="bp">‚àß</span> p := <span class="kd">by</span>
  apply And.intro
  case right <span class="bp">=&gt;</span>
    apply And.intro
    case left <span class="bp">=&gt;</span> exact hq
    case right <span class="bp">=&gt;</span> exact hp
  case left <span class="bp">=&gt;</span> exact hp</span></pre><p>Note that Lean hides the other goals inside the <tt class="docutils literal">case</tt> block. We say
it is &quot;focusing&quot; on the selected goal.  Moreover, Lean flags an error
if the selected goal is not fully solved at the end of the <tt class="docutils literal">case</tt>
block.</p>
<p>For simple sugoals, it may not be worth selecting a subgoal using its
tag, but you may still want to structure the proof. Lean also provides
the &quot;bullet&quot; notation <tt class="docutils literal">. &lt;tactics&gt;</tt> (or <tt class="docutils literal">¬∑ &lt;tactics&gt;</tt>) for
structuring proof.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk9">test</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Error: <span class="bp">&#39;</span>test&#39; has already been declared</blockquote></div></div></small></span><span class="alectryon-wsp"> (p q : <span class="kt">Prop</span>) (hp : p) (hq : q) : p <span class="bp">‚àß</span> q <span class="bp">‚àß</span> p := <span class="kd">by</span>
  apply And.intro
  <span class="bp">.</span> exact hp
  <span class="bp">.</span> apply And.intro
    <span class="bp">.</span> exact hq
    <span class="bp">.</span> exact hp</span></pre></div>
<div class="section" id="basic-tactics">
<h2>Basic Tactics</h2>
<p>In addition to <tt class="docutils literal">apply</tt> and <tt class="docutils literal">exact</tt>, another useful tactic is
<tt class="docutils literal">intro</tt>, which introduces a hypothesis. What follows is an example
of an identity from propositional logic that we proved in a previous
chapter, now proved using tactics.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (p q r : <span class="kt">Prop</span>) : p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üî</span> (p <span class="bp">‚àß</span> q) <span class="bp">‚à®</span> (p <span class="bp">‚àß</span> r) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chka"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üî</span> p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkb">apply Iff.intro</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chkc" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chkc"><hr><span class="goal-name">mpr</span></label><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkd"><span class="bp">.</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chke">intro h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkf">apply Or.elim (And.right h)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.left</span></span><div class="goal-conclusion">q <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk10" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk10"><hr><span class="goal-name">mp.right</span></label><div class="goal-conclusion">r <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk11"><span class="bp">.</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.left</span></span><div class="goal-conclusion">q <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk12">intro hq</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.left</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk13">apply Or.inl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.left.h</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk14">apply And.intro</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.left.h.left</span></span><div class="goal-conclusion">p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk15" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk15"><hr><span class="goal-name">mp.left.h.right</span></label><div class="goal-conclusion">q</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk16"><span class="bp">.</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.left.h.left</span></span><div class="goal-conclusion">p</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk17">exact And.left h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk18"><span class="bp">.</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.left.h.right</span></span><div class="goal-conclusion">q</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk19">exact hq</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1a"><span class="bp">.</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.right</span></span><div class="goal-conclusion">r <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1b">intro hr</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.right</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1c">apply Or.inr</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.right.h</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1d">apply And.intro</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.right.h.left</span></span><div class="goal-conclusion">p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk1e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk1e"><hr><span class="goal-name">mp.right.h.right</span></label><div class="goal-conclusion">r</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1f"><span class="bp">.</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.right.h.left</span></span><div class="goal-conclusion">p</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk20">exact And.left h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk21"><span class="bp">.</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.right.h.right</span></span><div class="goal-conclusion">r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk22">exact hr</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk23"><span class="bp">.</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk24">intro h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk25">apply Or.elim h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.left</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk26" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk26"><hr><span class="goal-name">mpr.right</span></label><div class="goal-conclusion">p <span class="bp">‚àß</span> r <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk27"><span class="bp">.</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.left</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk28">intro hpq</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</span></span></span><br><span><var>hpq</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.left</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk29">apply And.intro</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</span></span></span><br><span><var>hpq</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.left.left</span></span><div class="goal-conclusion">p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk2a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</span></span></span><br><span><var>hpq</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk2a"><hr><span class="goal-name">mpr.left.right</span></label><div class="goal-conclusion">q <span class="bp">‚à®</span> r</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2b"><span class="bp">.</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</span></span></span><br><span><var>hpq</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.left.left</span></span><div class="goal-conclusion">p</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2c">exact And.left hpq</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2d"><span class="bp">.</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</span></span></span><br><span><var>hpq</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.left.right</span></span><div class="goal-conclusion">q <span class="bp">‚à®</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2e">apply Or.inl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</span></span></span><br><span><var>hpq</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.left.right.h</span></span><div class="goal-conclusion">q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2f">exact And.right hpq</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk30"><span class="bp">.</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.right</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> r <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk31">intro hpr</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</span></span></span><br><span><var>hpr</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.right</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk32">apply And.intro</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</span></span></span><br><span><var>hpr</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.right.left</span></span><div class="goal-conclusion">p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk33" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</span></span></span><br><span><var>hpr</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk33"><hr><span class="goal-name">mpr.right.right</span></label><div class="goal-conclusion">q <span class="bp">‚à®</span> r</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk34"><span class="bp">.</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</span></span></span><br><span><var>hpr</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.right.left</span></span><div class="goal-conclusion">p</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk35">exact And.left hpr</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk36"><span class="bp">.</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</span></span></span><br><span><var>hpr</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.right.right</span></span><div class="goal-conclusion">q <span class="bp">‚à®</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk37">apply Or.inr</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</span></span></span><br><span><var>hpr</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.right.right.h</span></span><div class="goal-conclusion">r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk38">exact And.right hpr</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>The <tt class="docutils literal">intro</tt> command can more generally be used to introduce a variable of any type:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (Œ± : <span class="kt">Type</span>) : Œ± <span class="bp">‚Üí</span> Œ± :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk39"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ±</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Œ± <span class="bp">‚Üí</span> Œ±</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk3a">intro a</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ±</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Œ±</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Œ±</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk3b">exact a</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">example</span> (Œ± : <span class="kt">Type</span>) : <span class="bp">‚àÄ</span> x : Œ±, x <span class="bp">=</span> x :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk3c"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ±</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">‚àÄ</span> (x : Œ±), x <span class="bp">=</span> x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk3d">intro x</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ±</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Œ±</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x <span class="bp">=</span> x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk3e">exact Eq.refl x</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>You can use it to introduce several variables:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> : <span class="bp">‚àÄ</span> a b c : Nat, a <span class="bp">=</span> b <span class="bp">‚Üí</span> a <span class="bp">=</span> c <span class="bp">‚Üí</span> c <span class="bp">=</span> b :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk3f"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">‚àÄ</span> (a b c : Nat), a <span class="bp">=</span> b <span class="bp">‚Üí</span> a <span class="bp">=</span> c <span class="bp">‚Üí</span> c <span class="bp">=</span> b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk40">intro a b c h‚ÇÅ h‚ÇÇ</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>a <span class="bp">=</span> b</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>a <span class="bp">=</span> c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c <span class="bp">=</span> b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk41">exact Eq.trans (Eq.symm h‚ÇÇ) h‚ÇÅ</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>As the <tt class="docutils literal">apply</tt> tactic is a command for constructing function
applications interactively, the <tt class="docutils literal">intro</tt> tactic is a command for
constructing function abstractions interactively (i.e., terms of the
form <tt class="docutils literal">fun x =&gt; e</tt>).  As with lambda abstraction notation, the
<tt class="docutils literal">intro</tt> tactic allows us to use an implicit <tt class="docutils literal">match</tt>.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (Œ± : <span class="kt">Type</span>) (p q : Œ± <span class="bp">‚Üí</span> <span class="kt">Prop</span>) : (<span class="bp">‚àÉ</span> x, p x <span class="bp">‚àß</span> q x) <span class="bp">‚Üí</span> <span class="bp">‚àÉ</span> x, q x <span class="bp">‚àß</span> p x :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk42"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ±</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>p, q</var><span class="hyp-type"><b>: </b><span>Œ± <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="bp">‚àÉ</span> x, p x <span class="bp">‚àß</span> q x) <span class="bp">‚Üí</span> <span class="bp">‚àÉ</span> x, q x <span class="bp">‚àß</span> p x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk43">intro ‚ü®w, hpw, hqw‚ü©</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ±</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>p, q</var><span class="hyp-type"><b>: </b><span>Œ± <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Œ±</span></span></span><br><span><var>hpw</var><span class="hyp-type"><b>: </b><span>p w</span></span></span><br><span><var>hqw</var><span class="hyp-type"><b>: </b><span>q w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">‚àÉ</span> x, q x <span class="bp">‚àß</span> p x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk44">exact ‚ü®w, hqw, hpw‚ü©</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>You can also provide multiple alternatives like in the <tt class="docutils literal">match</tt> expression.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (Œ± : <span class="kt">Type</span>) (p q : Œ± <span class="bp">‚Üí</span> <span class="kt">Prop</span>) : (<span class="bp">‚àÉ</span> x, p x <span class="bp">‚à®</span> q x) <span class="bp">‚Üí</span> <span class="bp">‚àÉ</span> x, q x <span class="bp">‚à®</span> p x :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk45"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ±</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>p, q</var><span class="hyp-type"><b>: </b><span>Œ± <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="bp">‚àÉ</span> x, p x <span class="bp">‚à®</span> q x) <span class="bp">‚Üí</span> <span class="bp">‚àÉ</span> x, q x <span class="bp">‚à®</span> p x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk46">intro
    <span class="bp">|</span> ‚ü®w, Or.inl h‚ü© <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ±</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>p, q</var><span class="hyp-type"><b>: </b><span>Œ± <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="bp">‚àÉ</span> x, p x <span class="bp">‚à®</span> q x) <span class="bp">‚Üí</span> <span class="bp">‚àÉ</span> x, q x <span class="bp">‚à®</span> p x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk47">exact ‚ü®w, Or.inr h‚ü©</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk48">
    <span class="bp">|</span> ‚ü®w, Or.inr h‚ü© <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ±</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>p, q</var><span class="hyp-type"><b>: </b><span>Œ± <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="bp">‚àÉ</span> x, p x <span class="bp">‚à®</span> q x) <span class="bp">‚Üí</span> <span class="bp">‚àÉ</span> x, q x <span class="bp">‚à®</span> p x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk49">exact ‚ü®w, Or.inl h‚ü©</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>The <tt class="docutils literal">intros</tt> tactic can be used without any arguments, in which
case, it chooses names and introduces as many variables as it can. You
will see an example of this in a moment.</p>
<p>The <tt class="docutils literal">assumption</tt> tactic looks through the assumptions in context of
the current goal, and if there is one matching the conclusion, it
applies it.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (x y z w : Nat) (h‚ÇÅ : x <span class="bp">=</span> y) (h‚ÇÇ : y <span class="bp">=</span> z) (h‚ÇÉ : z <span class="bp">=</span> w) : x <span class="bp">=</span> w :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk4a"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z, w</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>y <span class="bp">=</span> z</span></span></span><br><span><var>h‚ÇÉ</var><span class="hyp-type"><b>: </b><span>z <span class="bp">=</span> w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x <span class="bp">=</span> w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk4b">apply Eq.trans h‚ÇÅ</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z, w</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>y <span class="bp">=</span> z</span></span></span><br><span><var>h‚ÇÉ</var><span class="hyp-type"><b>: </b><span>z <span class="bp">=</span> w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y <span class="bp">=</span> w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk4c">apply Eq.trans h‚ÇÇ</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z, w</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>y <span class="bp">=</span> z</span></span></span><br><span><var>h‚ÇÉ</var><span class="hyp-type"><b>: </b><span>z <span class="bp">=</span> w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">z <span class="bp">=</span> w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk4d">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp">   <span class="c1">-- applied h‚ÇÉ</span></span></pre><p>It will unify metavariables in the conclusion if necessary:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (x y z w : Nat) (h‚ÇÅ : x <span class="bp">=</span> y) (h‚ÇÇ : y <span class="bp">=</span> z) (h‚ÇÉ : z <span class="bp">=</span> w) : x <span class="bp">=</span> w :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk4e"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z, w</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>y <span class="bp">=</span> z</span></span></span><br><span><var>h‚ÇÉ</var><span class="hyp-type"><b>: </b><span>z <span class="bp">=</span> w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x <span class="bp">=</span> w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk4f">apply Eq.trans</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z, w</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>y <span class="bp">=</span> z</span></span></span><br><span><var>h‚ÇÉ</var><span class="hyp-type"><b>: </b><span>z <span class="bp">=</span> w</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h‚ÇÅ</span></span><div class="goal-conclusion">x <span class="bp">=</span> <span class="bp">?</span>b</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk50" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z, w</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>y <span class="bp">=</span> z</span></span></span><br><span><var>h‚ÇÉ</var><span class="hyp-type"><b>: </b><span>z <span class="bp">=</span> w</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk50"><hr><span class="goal-name">h‚ÇÇ</span></label><div class="goal-conclusion"><span class="bp">?</span>b <span class="bp">=</span> w</div></blockquote><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk51" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z, w</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>y <span class="bp">=</span> z</span></span></span><br><span><var>h‚ÇÉ</var><span class="hyp-type"><b>: </b><span>z <span class="bp">=</span> w</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk51"><hr><span class="goal-name">b</span></label><div class="goal-conclusion">Nat</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk52">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z, w</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>y <span class="bp">=</span> z</span></span></span><br><span><var>h‚ÇÉ</var><span class="hyp-type"><b>: </b><span>z <span class="bp">=</span> w</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h‚ÇÇ</span></span><div class="goal-conclusion">y <span class="bp">=</span> w</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk53">      <span class="c1">-- solves x = ?b with h‚ÇÅ</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z, w</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>y <span class="bp">=</span> z</span></span></span><br><span><var>h‚ÇÉ</var><span class="hyp-type"><b>: </b><span>z <span class="bp">=</span> w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x <span class="bp">=</span> w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk54">apply Eq.trans</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z, w</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>y <span class="bp">=</span> z</span></span></span><br><span><var>h‚ÇÉ</var><span class="hyp-type"><b>: </b><span>z <span class="bp">=</span> w</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h‚ÇÇ.h‚ÇÅ</span></span><div class="goal-conclusion">y <span class="bp">=</span> <span class="bp">?</span>h‚ÇÇ.b</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk55" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z, w</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>y <span class="bp">=</span> z</span></span></span><br><span><var>h‚ÇÉ</var><span class="hyp-type"><b>: </b><span>z <span class="bp">=</span> w</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk55"><hr><span class="goal-name">h‚ÇÇ.h‚ÇÇ</span></label><div class="goal-conclusion"><span class="bp">?</span>h‚ÇÇ.b <span class="bp">=</span> w</div></blockquote><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk56" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z, w</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>y <span class="bp">=</span> z</span></span></span><br><span><var>h‚ÇÉ</var><span class="hyp-type"><b>: </b><span>z <span class="bp">=</span> w</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk56"><hr><span class="goal-name">h‚ÇÇ.b</span></label><div class="goal-conclusion">Nat</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk57">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z, w</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>y <span class="bp">=</span> z</span></span></span><br><span><var>h‚ÇÉ</var><span class="hyp-type"><b>: </b><span>z <span class="bp">=</span> w</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h‚ÇÇ.h‚ÇÇ</span></span><div class="goal-conclusion">z <span class="bp">=</span> w</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk58">      <span class="c1">-- solves y = ?h‚ÇÇ.b with h‚ÇÇ</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z, w</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>y <span class="bp">=</span> z</span></span></span><br><span><var>h‚ÇÉ</var><span class="hyp-type"><b>: </b><span>z <span class="bp">=</span> w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x <span class="bp">=</span> w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk59">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp">      <span class="c1">-- solves z = w with h‚ÇÉ</span></span></pre><p>The following example uses the <tt class="docutils literal">intros</tt> command to introduce the three variables and two hypotheses automatically:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> : <span class="bp">‚àÄ</span> a b c : Nat, a <span class="bp">=</span> b <span class="bp">‚Üí</span> a <span class="bp">=</span> c <span class="bp">‚Üí</span> c <span class="bp">=</span> b :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk5a"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">‚àÄ</span> (a b c : Nat), a <span class="bp">=</span> b <span class="bp">‚Üí</span> a <span class="bp">=</span> c <span class="bp">‚Üí</span> c <span class="bp">=</span> b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk5b">intros</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a‚úù¬≤, b‚úù, c‚úù</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>a‚úù¬π</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬≤</span> <span class="bp">=</span> b<span class="bp">‚úù</span></span></span></span><br><span><var>a‚úù</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬≤</span> <span class="bp">=</span> c<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c<span class="bp">‚úù</span> <span class="bp">=</span> b<span class="bp">‚úù</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk5c">apply Eq.trans</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a‚úù¬≤, b‚úù, c‚úù</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>a‚úù¬π</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬≤</span> <span class="bp">=</span> b<span class="bp">‚úù</span></span></span></span><br><span><var>a‚úù</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬≤</span> <span class="bp">=</span> c<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h‚ÇÅ</span></span><div class="goal-conclusion">c<span class="bp">‚úù</span> <span class="bp">=</span> <span class="bp">?</span>b</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk5d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a‚úù¬≤, b‚úù, c‚úù</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>a‚úù¬π</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬≤</span> <span class="bp">=</span> b<span class="bp">‚úù</span></span></span></span><br><span><var>a‚úù</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬≤</span> <span class="bp">=</span> c<span class="bp">‚úù</span></span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk5d"><hr><span class="goal-name">h‚ÇÇ</span></label><div class="goal-conclusion"><span class="bp">?</span>b <span class="bp">=</span> b<span class="bp">‚úù</span></div></blockquote><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">b</span></span><div class="goal-conclusion">Nat</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk5e">apply Eq.symm</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a‚úù¬≤, b‚úù, c‚úù</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>a‚úù¬π</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬≤</span> <span class="bp">=</span> b<span class="bp">‚úù</span></span></span></span><br><span><var>a‚úù</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬≤</span> <span class="bp">=</span> c<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h‚ÇÅ.h</span></span><div class="goal-conclusion"><span class="bp">?</span>b <span class="bp">=</span> c<span class="bp">‚úù</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk5f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a‚úù¬≤, b‚úù, c‚úù</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>a‚úù¬π</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬≤</span> <span class="bp">=</span> b<span class="bp">‚úù</span></span></span></span><br><span><var>a‚úù</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬≤</span> <span class="bp">=</span> c<span class="bp">‚úù</span></span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk5f"><hr><span class="goal-name">h‚ÇÇ</span></label><div class="goal-conclusion"><span class="bp">?</span>b <span class="bp">=</span> b<span class="bp">‚úù</span></div></blockquote><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">b</span></span><div class="goal-conclusion">Nat</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk60">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a‚úù¬≤, b‚úù, c‚úù</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>a‚úù</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬≤</span> <span class="bp">=</span> c<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h‚ÇÇ</span></span><div class="goal-conclusion">a<span class="bp">‚úù¬≤</span> <span class="bp">=</span> b<span class="bp">‚úù</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk61">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>Note that names automatically generated by Lean are inaccessible by default. The motivation is to
ensure your tactic proofs do not rely on automatically generated names, and are consequently more robust.
However, you can use the combinator <tt class="docutils literal">unhygienic</tt> to disable this restriction.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> : <span class="bp">‚àÄ</span> a b c : Nat, a <span class="bp">=</span> b <span class="bp">‚Üí</span> a <span class="bp">=</span> c <span class="bp">‚Üí</span> c <span class="bp">=</span> b :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk62"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">‚àÄ</span> (a b c : Nat), a <span class="bp">=</span> b <span class="bp">‚Üí</span> a <span class="bp">=</span> c <span class="bp">‚Üí</span> c <span class="bp">=</span> b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk63">unhygienic</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">‚àÄ</span> (a b c : Nat), a <span class="bp">=</span> b <span class="bp">‚Üí</span> a <span class="bp">=</span> c <span class="bp">‚Üí</span> c <span class="bp">=</span> b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk64">intros</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>a_1</var><span class="hyp-type"><b>: </b><span>a <span class="bp">=</span> b</span></span></span><br><span><var>a_2</var><span class="hyp-type"><b>: </b><span>a <span class="bp">=</span> c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c <span class="bp">=</span> b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk65">apply Eq.trans</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>a_1</var><span class="hyp-type"><b>: </b><span>a <span class="bp">=</span> b</span></span></span><br><span><var>a_2</var><span class="hyp-type"><b>: </b><span>a <span class="bp">=</span> c</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h‚ÇÅ</span></span><div class="goal-conclusion">c <span class="bp">=</span> <span class="bp">?</span>b</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk66" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>a_1</var><span class="hyp-type"><b>: </b><span>a <span class="bp">=</span> b</span></span></span><br><span><var>a_2</var><span class="hyp-type"><b>: </b><span>a <span class="bp">=</span> c</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk66"><hr><span class="goal-name">h‚ÇÇ</span></label><div class="goal-conclusion"><span class="bp">?</span>b <span class="bp">=</span> b</div></blockquote><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk67" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>a_1</var><span class="hyp-type"><b>: </b><span>a <span class="bp">=</span> b</span></span></span><br><span><var>a_2</var><span class="hyp-type"><b>: </b><span>a <span class="bp">=</span> c</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk67"><hr><span class="goal-name">b</span></label><div class="goal-conclusion">Nat</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk68">apply Eq.symm</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>a_1</var><span class="hyp-type"><b>: </b><span>a <span class="bp">=</span> b</span></span></span><br><span><var>a_2</var><span class="hyp-type"><b>: </b><span>a <span class="bp">=</span> c</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h‚ÇÅ.h</span></span><div class="goal-conclusion"><span class="bp">?</span>b <span class="bp">=</span> c</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk69" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>a_1</var><span class="hyp-type"><b>: </b><span>a <span class="bp">=</span> b</span></span></span><br><span><var>a_2</var><span class="hyp-type"><b>: </b><span>a <span class="bp">=</span> c</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk69"><hr><span class="goal-name">h‚ÇÇ</span></label><div class="goal-conclusion"><span class="bp">?</span>b <span class="bp">=</span> b</div></blockquote><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk6a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>a_1</var><span class="hyp-type"><b>: </b><span>a <span class="bp">=</span> b</span></span></span><br><span><var>a_2</var><span class="hyp-type"><b>: </b><span>a <span class="bp">=</span> c</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk6a"><hr><span class="goal-name">b</span></label><div class="goal-conclusion">Nat</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk6b">exact a_2</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>a_1</var><span class="hyp-type"><b>: </b><span>a <span class="bp">=</span> b</span></span></span><br><span><var>a_2</var><span class="hyp-type"><b>: </b><span>a <span class="bp">=</span> c</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h‚ÇÇ</span></span><div class="goal-conclusion">a <span class="bp">=</span> b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk6c">exact a_1</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>You can also use the <tt class="docutils literal">rename_i</tt> tactic to rename the most recent inaccessible names in your context.
In the following example, the tactic <tt class="docutils literal">rename_i h1 _ h2</tt> renames two of the last three hypotheses in
your context.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> : <span class="bp">‚àÄ</span> a b c d : Nat, a <span class="bp">=</span> b <span class="bp">‚Üí</span> a <span class="bp">=</span> d <span class="bp">‚Üí</span> a <span class="bp">=</span> c <span class="bp">‚Üí</span> c <span class="bp">=</span> b :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk6d" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk6d"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">‚àÄ</span> (a b c d : Nat), a <span class="bp">=</span> b <span class="bp">‚Üí</span> a <span class="bp">=</span> d <span class="bp">‚Üí</span> a <span class="bp">=</span> c <span class="bp">‚Üí</span> c <span class="bp">=</span> b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk6e">intros</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a‚úù¬≥, b‚úù, c‚úù, d‚úù</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>a‚úù¬≤</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬≥</span> <span class="bp">=</span> b<span class="bp">‚úù</span></span></span></span><br><span><var>a‚úù¬π</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬≥</span> <span class="bp">=</span> d<span class="bp">‚úù</span></span></span></span><br><span><var>a‚úù</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬≥</span> <span class="bp">=</span> c<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c<span class="bp">‚úù</span> <span class="bp">=</span> b<span class="bp">‚úù</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk6f">rename_i h1 _ h2</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a‚úù¬π, b‚úù, c‚úù, d‚úù</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬π</span> <span class="bp">=</span> b<span class="bp">‚úù</span></span></span></span><br><span><var>a‚úù</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬π</span> <span class="bp">=</span> d<span class="bp">‚úù</span></span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬π</span> <span class="bp">=</span> c<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c<span class="bp">‚úù</span> <span class="bp">=</span> b<span class="bp">‚úù</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk70" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk70">apply Eq.trans</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a‚úù¬π, b‚úù, c‚úù, d‚úù</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬π</span> <span class="bp">=</span> b<span class="bp">‚úù</span></span></span></span><br><span><var>a‚úù</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬π</span> <span class="bp">=</span> d<span class="bp">‚úù</span></span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬π</span> <span class="bp">=</span> c<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h‚ÇÅ</span></span><div class="goal-conclusion">c<span class="bp">‚úù</span> <span class="bp">=</span> <span class="bp">?</span>b</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk71" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a‚úù¬π, b‚úù, c‚úù, d‚úù</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬π</span> <span class="bp">=</span> b<span class="bp">‚úù</span></span></span></span><br><span><var>a‚úù</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬π</span> <span class="bp">=</span> d<span class="bp">‚úù</span></span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬π</span> <span class="bp">=</span> c<span class="bp">‚úù</span></span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk71"><hr><span class="goal-name">h‚ÇÇ</span></label><div class="goal-conclusion"><span class="bp">?</span>b <span class="bp">=</span> b<span class="bp">‚úù</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk72" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a‚úù¬π, b‚úù, c‚úù, d‚úù</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬π</span> <span class="bp">=</span> b<span class="bp">‚úù</span></span></span></span><br><span><var>a‚úù</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬π</span> <span class="bp">=</span> d<span class="bp">‚úù</span></span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬π</span> <span class="bp">=</span> c<span class="bp">‚úù</span></span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk72"><hr><span class="goal-name">b</span></label><div class="goal-conclusion">Nat</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk73" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk73">apply Eq.symm</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a‚úù¬π, b‚úù, c‚úù, d‚úù</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬π</span> <span class="bp">=</span> b<span class="bp">‚úù</span></span></span></span><br><span><var>a‚úù</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬π</span> <span class="bp">=</span> d<span class="bp">‚úù</span></span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬π</span> <span class="bp">=</span> c<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h‚ÇÅ.h</span></span><div class="goal-conclusion"><span class="bp">?</span>b <span class="bp">=</span> c<span class="bp">‚úù</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk74" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a‚úù¬π, b‚úù, c‚úù, d‚úù</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬π</span> <span class="bp">=</span> b<span class="bp">‚úù</span></span></span></span><br><span><var>a‚úù</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬π</span> <span class="bp">=</span> d<span class="bp">‚úù</span></span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬π</span> <span class="bp">=</span> c<span class="bp">‚úù</span></span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk74"><hr><span class="goal-name">h‚ÇÇ</span></label><div class="goal-conclusion"><span class="bp">?</span>b <span class="bp">=</span> b<span class="bp">‚úù</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk75" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a‚úù¬π, b‚úù, c‚úù, d‚úù</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬π</span> <span class="bp">=</span> b<span class="bp">‚úù</span></span></span></span><br><span><var>a‚úù</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬π</span> <span class="bp">=</span> d<span class="bp">‚úù</span></span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬π</span> <span class="bp">=</span> c<span class="bp">‚úù</span></span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk75"><hr><span class="goal-name">b</span></label><div class="goal-conclusion">Nat</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk76">exact h2</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a‚úù¬π, b‚úù, c‚úù, d‚úù</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h1</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬π</span> <span class="bp">=</span> b<span class="bp">‚úù</span></span></span></span><br><span><var>a‚úù</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬π</span> <span class="bp">=</span> d<span class="bp">‚úù</span></span></span></span><br><span><var>h2</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬π</span> <span class="bp">=</span> c<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h‚ÇÇ</span></span><div class="goal-conclusion">a<span class="bp">‚úù¬π</span> <span class="bp">=</span> b<span class="bp">‚úù</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk77">exact h1</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>The <tt class="docutils literal">rfl</tt> tactic is syntax sugar for <tt class="docutils literal">exact rfl</tt>.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (y : Nat) : (<span class="k">fun</span> x : Nat <span class="bp">=&gt;</span> <span class="mi">0</span>) y <span class="bp">=</span> <span class="mi">0</span> :=
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk78" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk78"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="k">fun</span> x <span class="bp">=&gt;</span> <span class="mi">0</span>) y <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk79" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk79">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>The <tt class="docutils literal">repeat</tt> combinator can be used to apply a tactic several times.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> : <span class="bp">‚àÄ</span> a b c : Nat, a <span class="bp">=</span> b <span class="bp">‚Üí</span> a <span class="bp">=</span> c <span class="bp">‚Üí</span> c <span class="bp">=</span> b :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk7a" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk7a"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">‚àÄ</span> (a b c : Nat), a <span class="bp">=</span> b <span class="bp">‚Üí</span> a <span class="bp">=</span> c <span class="bp">‚Üí</span> c <span class="bp">=</span> b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk7b">intros</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a‚úù¬≤, b‚úù, c‚úù</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>a‚úù¬π</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬≤</span> <span class="bp">=</span> b<span class="bp">‚úù</span></span></span></span><br><span><var>a‚úù</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬≤</span> <span class="bp">=</span> c<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c<span class="bp">‚úù</span> <span class="bp">=</span> b<span class="bp">‚úù</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk7c" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk7c">apply Eq.trans</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a‚úù¬≤, b‚úù, c‚úù</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>a‚úù¬π</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬≤</span> <span class="bp">=</span> b<span class="bp">‚úù</span></span></span></span><br><span><var>a‚úù</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬≤</span> <span class="bp">=</span> c<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h‚ÇÅ</span></span><div class="goal-conclusion">c<span class="bp">‚úù</span> <span class="bp">=</span> <span class="bp">?</span>b</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk7d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a‚úù¬≤, b‚úù, c‚úù</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>a‚úù¬π</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬≤</span> <span class="bp">=</span> b<span class="bp">‚úù</span></span></span></span><br><span><var>a‚úù</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬≤</span> <span class="bp">=</span> c<span class="bp">‚úù</span></span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk7d"><hr><span class="goal-name">h‚ÇÇ</span></label><div class="goal-conclusion"><span class="bp">?</span>b <span class="bp">=</span> b<span class="bp">‚úù</span></div></blockquote><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">b</span></span><div class="goal-conclusion">Nat</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk7e">apply Eq.symm</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a‚úù¬≤, b‚úù, c‚úù</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>a‚úù¬π</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬≤</span> <span class="bp">=</span> b<span class="bp">‚úù</span></span></span></span><br><span><var>a‚úù</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬≤</span> <span class="bp">=</span> c<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h‚ÇÅ.h</span></span><div class="goal-conclusion"><span class="bp">?</span>b <span class="bp">=</span> c<span class="bp">‚úù</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk7f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a‚úù¬≤, b‚úù, c‚úù</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>a‚úù¬π</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬≤</span> <span class="bp">=</span> b<span class="bp">‚úù</span></span></span></span><br><span><var>a‚úù</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬≤</span> <span class="bp">=</span> c<span class="bp">‚úù</span></span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk7f"><hr><span class="goal-name">h‚ÇÇ</span></label><div class="goal-conclusion"><span class="bp">?</span>b <span class="bp">=</span> b<span class="bp">‚úù</span></div></blockquote><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">b</span></span><div class="goal-conclusion">Nat</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk80" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk80">repeat</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a‚úù¬≤, b‚úù, c‚úù</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>a‚úù¬π</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬≤</span> <span class="bp">=</span> b<span class="bp">‚úù</span></span></span></span><br><span><var>a‚úù</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬≤</span> <span class="bp">=</span> c<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h‚ÇÅ.h</span></span><div class="goal-conclusion"><span class="bp">?</span>b <span class="bp">=</span> c<span class="bp">‚úù</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk81" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a‚úù¬≤, b‚úù, c‚úù</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>a‚úù¬π</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬≤</span> <span class="bp">=</span> b<span class="bp">‚úù</span></span></span></span><br><span><var>a‚úù</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬≤</span> <span class="bp">=</span> c<span class="bp">‚úù</span></span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk81"><hr><span class="goal-name">h‚ÇÇ</span></label><div class="goal-conclusion"><span class="bp">?</span>b <span class="bp">=</span> b<span class="bp">‚úù</span></div></blockquote><blockquote class="alectryon-goal"><span class="goal-separator"><hr><span class="goal-name">b</span></span><div class="goal-conclusion">Nat</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk82" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk82">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a‚úù¬≤, b‚úù, c‚úù</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>a‚úù</var><span class="hyp-type"><b>: </b><span>a<span class="bp">‚úù¬≤</span> <span class="bp">=</span> c<span class="bp">‚úù</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h‚ÇÇ</span></span><div class="goal-conclusion">a<span class="bp">‚úù¬≤</span> <span class="bp">=</span> b<span class="bp">‚úù</span></div></blockquote></div></div></small></span></pre><p>Another tactic that is sometimes useful is the <tt class="docutils literal">revert</tt> tactic,
which is, in a sense, an inverse to <tt class="docutils literal">intro</tt>.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (x : Nat) : x <span class="bp">=</span> x :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk83" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk83"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x <span class="bp">=</span> x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk84" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk84">revert x</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">‚àÄ</span> (x : Nat), x <span class="bp">=</span> x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk85" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk85">
  <span class="c1">-- goal is ‚ä¢ ‚àÄ (x : Nat), x = x</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x <span class="bp">=</span> x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk86" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk86">intro y</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y <span class="bp">=</span> y</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk87" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk87">
  <span class="c1">-- goal is y : Nat ‚ä¢ y = y</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x <span class="bp">=</span> x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk88" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk88">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>Moving a hypothesis into the goal yields an implication:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (x y : Nat) (h : x <span class="bp">=</span> y) : y <span class="bp">=</span> x :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk89"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y <span class="bp">=</span> x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk8a" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk8a">revert h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x <span class="bp">=</span> y <span class="bp">‚Üí</span> y <span class="bp">=</span> x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk8b" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk8b">
  <span class="c1">-- goal is x y : Nat ‚ä¢ x = y ‚Üí y = x</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y <span class="bp">=</span> x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk8c" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk8c">intro h‚ÇÅ</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y <span class="bp">=</span> x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk8d" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk8d">
  <span class="c1">-- goal is x y : ‚Ñï, h‚ÇÅ : x = y ‚ä¢ y = x</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y <span class="bp">=</span> x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk8e" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk8e">apply Eq.symm</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">x <span class="bp">=</span> y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk8f">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>But <tt class="docutils literal">revert</tt> is even more clever, in that it will revert not only an
element of the context but also all the subsequent elements of the
context that depend on it. For example, reverting <tt class="docutils literal">x</tt> in the example
above brings <tt class="docutils literal">h</tt> along with it:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (x y : Nat) (h : x <span class="bp">=</span> y) : y <span class="bp">=</span> x :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk90" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk90"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y <span class="bp">=</span> x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk91" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk91">revert x</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">‚àÄ</span> (x : Nat), x <span class="bp">=</span> y <span class="bp">‚Üí</span> y <span class="bp">=</span> x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk92" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk92">
  <span class="c1">-- goal is y : Nat ‚ä¢ ‚àÄ (x : Nat), x = y ‚Üí y = x</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y <span class="bp">=</span> x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk93" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk93">intros</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y, x‚úù</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y <span class="bp">=</span> x<span class="bp">‚úù</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk94">apply Eq.symm</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y, x‚úù</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">x<span class="bp">‚úù</span> <span class="bp">=</span> y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk95" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk95">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>You can also revert multiple elements of the context at once:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (x y : Nat) (h : x <span class="bp">=</span> y) : y <span class="bp">=</span> x :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk96" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk96"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y <span class="bp">=</span> x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk97" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk97">revert x y</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">‚àÄ</span> (x y : Nat), x <span class="bp">=</span> y <span class="bp">‚Üí</span> y <span class="bp">=</span> x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk98" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk98">
  <span class="c1">-- goal is ‚ä¢ ‚àÄ (x y : Nat), x = y ‚Üí y = x</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y <span class="bp">=</span> x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk99" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk99">intros</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x‚úù, y‚úù</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y<span class="bp">‚úù</span> <span class="bp">=</span> x<span class="bp">‚úù</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk9a" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk9a">apply Eq.symm</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x‚úù, y‚úù</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">x<span class="bp">‚úù</span> <span class="bp">=</span> y<span class="bp">‚úù</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk9b" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk9b">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>You can only <tt class="docutils literal">revert</tt> an element of the local context, that is, a
local variable or hypothesis. But you can replace an arbitrary
expression in the goal by a fresh variable using the <tt class="docutils literal">generalize</tt>
tactic.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> : <span class="mi">3</span> <span class="bp">=</span> <span class="mi">3</span> :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk9c" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk9c"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">3</span> <span class="bp">=</span> <span class="mi">3</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk9d" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk9d">generalize <span class="mi">3</span> <span class="bp">=</span> x</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x <span class="bp">=</span> x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk9e" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk9e">
  <span class="c1">-- goal is x : Nat ‚ä¢ x = x,</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">3</span> <span class="bp">=</span> <span class="mi">3</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk9f" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk9f">revert x</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">‚àÄ</span> (x : Nat), x <span class="bp">=</span> x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chka0" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chka0">
  <span class="c1">-- goal is ‚ä¢ ‚àÄ (x : Nat), x = x</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">3</span> <span class="bp">=</span> <span class="mi">3</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chka1" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chka1">intro y</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>y</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">y <span class="bp">=</span> y</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chka2" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chka2">
  <span class="c1">-- goal is y : Nat ‚ä¢ y = y</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">3</span> <span class="bp">=</span> <span class="mi">3</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chka3" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chka3">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>The mnemonic in the notation above is that you are generalizing the
goal by setting <tt class="docutils literal">3</tt> to an arbitrary variable <tt class="docutils literal">x</tt>. Be careful: not
every generalization preserves the validity of the goal. Here,
<tt class="docutils literal">generalize</tt> replaces a goal that could be proved using
<tt class="docutils literal">rfl</tt> with one that is not provable:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> : <span class="mi">2</span> <span class="bp">+</span> <span class="mi">3</span> <span class="bp">=</span> <span class="mi">5</span> :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chka4"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> <span class="bp">+</span> <span class="mi">3</span> <span class="bp">=</span> <span class="mi">5</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chka5">generalize  <span class="mi">3</span> <span class="bp">=</span> x</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> <span class="bp">+</span> x <span class="bp">=</span> <span class="mi">5</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chka6" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chka6">
  <span class="c1">-- goal is x : Nat ‚ä¢ 2 + x = 5</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> <span class="bp">+</span> <span class="mi">3</span> <span class="bp">=</span> <span class="mi">5</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chka7" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chka7"><span class="gr">admit</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">&#39;</span><span class="gr">sorry</span><span class="bp">&#39;</span></blockquote></div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>In this example, the <tt class="docutils literal">admit</tt> tactic is the analogue of the <tt class="docutils literal">sorry</tt>
proof term. It closes the current goal, producing the usual warning
that <tt class="docutils literal">sorry</tt> has been used. To preserve the validity of the previous
goal, the <tt class="docutils literal">generalize</tt> tactic allows us to record the fact that
<tt class="docutils literal">3</tt> has been replaced by <tt class="docutils literal">x</tt>. All you need to do is to provide a
label, and <tt class="docutils literal">generalize</tt> uses it to store the assignment in the local
context:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> : <span class="mi">2</span> <span class="bp">+</span> <span class="mi">3</span> <span class="bp">=</span> <span class="mi">5</span> :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chka8" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chka8"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> <span class="bp">+</span> <span class="mi">3</span> <span class="bp">=</span> <span class="mi">5</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chka9" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chka9">generalize h : <span class="mi">3</span> <span class="bp">=</span> x</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">3</span> <span class="bp">=</span> x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> <span class="bp">+</span> x <span class="bp">=</span> <span class="mi">5</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkaa" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkaa">
  <span class="c1">-- goal is x : Nat, h : 3 = x ‚ä¢ 2 + x = 5</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> <span class="bp">+</span> <span class="mi">3</span> <span class="bp">=</span> <span class="mi">5</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkab" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkab">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">3</span> <span class="bp">=</span> x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> <span class="bp">+</span> x <span class="bp">=</span> <span class="mi">5</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkac" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkac"><span class="bp">‚Üê</span> h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="mi">3</span> <span class="bp">=</span> x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> <span class="bp">+</span> <span class="mi">3</span> <span class="bp">=</span> <span class="mi">5</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkad" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkad">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>Here the <tt class="docutils literal">rewrite</tt> tactic, abbreviated <tt class="docutils literal">rw</tt>, uses <tt class="docutils literal">h</tt> to replace
<tt class="docutils literal">x</tt> by <tt class="docutils literal">3</tt> again. The <tt class="docutils literal">rewrite</tt> tactic will be discussed below.</p>
</div>
<div class="section" id="more-tactics">
<h2>More Tactics</h2>
<p>Some additional tactics are useful for constructing and destructing
propositions and data. For example, when applied to a goal of the form
<tt class="docutils literal">p ‚à® q</tt>, you use tactics such as <tt class="docutils literal">apply Or.inl</tt> and <tt class="docutils literal">apply Or.inr</tt>.  Conversely, the <tt class="docutils literal">cases</tt> tactic can be used to decompose a
disjunction.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (p q : <span class="kt">Prop</span>) : p <span class="bp">‚à®</span> q <span class="bp">‚Üí</span> q <span class="bp">‚à®</span> p :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkae" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkae"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚à®</span> q <span class="bp">‚Üí</span> q <span class="bp">‚à®</span> p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkaf" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkaf">intro h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚à®</span> q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">q <span class="bp">‚à®</span> p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkb0" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkb0">cases h <span class="k">with</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚à®</span> q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">q <span class="bp">‚à®</span> p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkb1" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkb1"><span class="bp">|</span> inl hp <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">q <span class="bp">‚à®</span> p</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkb2" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkb2">apply Or.inr</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl.h</span></span><div class="goal-conclusion">p</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkb3" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkb3">exact hp</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkb4" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkb4"><span class="bp">|</span> inr hq <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr</span></span><div class="goal-conclusion">q <span class="bp">‚à®</span> p</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkb5" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkb5">apply Or.inl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr.h</span></span><div class="goal-conclusion">q</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkb6" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkb6">exact hq</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>Note that the syntax is similar to the one used in <tt class="docutils literal">match</tt> expressions.
The new subgoals can be solved in any order.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (p q : <span class="kt">Prop</span>) : p <span class="bp">‚à®</span> q <span class="bp">‚Üí</span> q <span class="bp">‚à®</span> p :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkb7" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkb7"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚à®</span> q <span class="bp">‚Üí</span> q <span class="bp">‚à®</span> p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkb8" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkb8">intro h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚à®</span> q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">q <span class="bp">‚à®</span> p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkb9" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkb9">cases h <span class="k">with</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚à®</span> q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">q <span class="bp">‚à®</span> p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkba" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkba"><span class="bp">|</span> inr hq <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr</span></span><div class="goal-conclusion">q <span class="bp">‚à®</span> p</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkbb" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkbb">apply Or.inl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr.h</span></span><div class="goal-conclusion">q</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkbc" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkbc">exact hq</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkbd" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkbd"><span class="bp">|</span> inl hp <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">q <span class="bp">‚à®</span> p</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkbe" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkbe">apply Or.inr</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl.h</span></span><div class="goal-conclusion">p</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkbf" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkbf">exact hp</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>You can also use a (unstructured) <tt class="docutils literal">cases</tt> without the <tt class="docutils literal">with</tt> and a tactic
for each alternative.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (p q : <span class="kt">Prop</span>) : p <span class="bp">‚à®</span> q <span class="bp">‚Üí</span> q <span class="bp">‚à®</span> p :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkc0" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkc0"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚à®</span> q <span class="bp">‚Üí</span> q <span class="bp">‚à®</span> p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkc1" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkc1">intro h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚à®</span> q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">q <span class="bp">‚à®</span> p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkc2" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkc2">cases h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">q <span class="bp">‚à®</span> p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chkc3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chkc3"><hr><span class="goal-name">inr</span></label><div class="goal-conclusion">q <span class="bp">‚à®</span> p</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkc4" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkc4">apply Or.inr</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl.h</span></span><div class="goal-conclusion">p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chkc5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chkc5"><hr><span class="goal-name">inr</span></label><div class="goal-conclusion">q <span class="bp">‚à®</span> p</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkc6" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkc6">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr</span></span><div class="goal-conclusion">q <span class="bp">‚à®</span> p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkc7" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkc7">apply Or.inl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr.h</span></span><div class="goal-conclusion">q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkc8" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkc8">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>The (unstructured) <tt class="docutils literal">cases</tt> is particularly useful when you can close several
subgoals using the same tactic.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (p : <span class="kt">Prop</span>) : p <span class="bp">‚à®</span> p <span class="bp">‚Üí</span> p :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkc9" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkc9"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚à®</span> p <span class="bp">‚Üí</span> p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkca" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkca">intro h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚à®</span> p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkcb" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkcb">cases h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chkcc" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chkcc"><hr><span class="goal-name">inr</span></label><div class="goal-conclusion">p</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkcd" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkcd">repeat</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chkce" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chkce"><hr><span class="goal-name">inr</span></label><div class="goal-conclusion">p</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkcf" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkcf">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>You can also use the combinator <tt class="docutils literal">tac1 &lt;;&gt; tac2</tt> to apply <tt class="docutils literal">tac2</tt> to each
subgoal produced by tactic <tt class="docutils literal">tac1</tt></p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (p : <span class="kt">Prop</span>) : p <span class="bp">‚à®</span> p <span class="bp">‚Üí</span> p :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkd0" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkd0"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚à®</span> p <span class="bp">‚Üí</span> p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkd1" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkd1">intro h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚à®</span> p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkd2" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkd2">cases h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chkd3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chkd3"><hr><span class="goal-name">inr</span></label><div class="goal-conclusion">p</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkd4" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkd4"> <span class="bp">&lt;;&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚à®</span> p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkd5" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkd5">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>You can combine the unstructured <tt class="docutils literal">cases</tt> tactic with the <tt class="docutils literal">case</tt> and <tt class="docutils literal">.</tt> notation.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (p q : <span class="kt">Prop</span>) : p <span class="bp">‚à®</span> q <span class="bp">‚Üí</span> q <span class="bp">‚à®</span> p :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkd6" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkd6"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚à®</span> q <span class="bp">‚Üí</span> q <span class="bp">‚à®</span> p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkd7" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkd7">intro h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚à®</span> q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">q <span class="bp">‚à®</span> p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkd8" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkd8">cases h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">q <span class="bp">‚à®</span> p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chkd9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chkd9"><hr><span class="goal-name">inr</span></label><div class="goal-conclusion">q <span class="bp">‚à®</span> p</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkda" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkda"><span class="bp">.</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">q <span class="bp">‚à®</span> p</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkdb" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkdb">apply Or.inr</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl.h</span></span><div class="goal-conclusion">p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkdc" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkdc">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkdd" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkdd"><span class="bp">.</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr</span></span><div class="goal-conclusion">q <span class="bp">‚à®</span> p</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkde" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkde">apply Or.inl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr.h</span></span><div class="goal-conclusion">q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkdf" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkdf">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">example</span> (p q : <span class="kt">Prop</span>) : p <span class="bp">‚à®</span> q <span class="bp">‚Üí</span> q <span class="bp">‚à®</span> p :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chke0" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chke0"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚à®</span> q <span class="bp">‚Üí</span> q <span class="bp">‚à®</span> p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chke1" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chke1">intro h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚à®</span> q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">q <span class="bp">‚à®</span> p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chke2" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chke2">cases h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">q <span class="bp">‚à®</span> p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chke3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chke3"><hr><span class="goal-name">inr</span></label><div class="goal-conclusion">q <span class="bp">‚à®</span> p</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chke4" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chke4">case inr h <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">q <span class="bp">‚à®</span> p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chke5" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chke5">apply Or.inl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chke6" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chke6">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chke7" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chke7">case inl h <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">q <span class="bp">‚à®</span> p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chke8" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chke8">apply Or.inr</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chke9" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chke9">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">example</span> (p q : <span class="kt">Prop</span>) : p <span class="bp">‚à®</span> q <span class="bp">‚Üí</span> q <span class="bp">‚à®</span> p :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkea" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkea"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚à®</span> q <span class="bp">‚Üí</span> q <span class="bp">‚à®</span> p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkeb" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkeb">intro h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚à®</span> q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">q <span class="bp">‚à®</span> p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkec" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkec">cases h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">q <span class="bp">‚à®</span> p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chked" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chked"><hr><span class="goal-name">inr</span></label><div class="goal-conclusion">q <span class="bp">‚à®</span> p</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkee" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkee">case inr h <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">q <span class="bp">‚à®</span> p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkef" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkef">apply Or.inl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkf0" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkf0">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkf1" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkf1"><span class="bp">.</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">q <span class="bp">‚à®</span> p</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkf2" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkf2">apply Or.inr</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl.h</span></span><div class="goal-conclusion">p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkf3" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkf3">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>The <tt class="docutils literal">cases</tt> tactic can also be used to
decompose a conjunction.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (p q : <span class="kt">Prop</span>) : p <span class="bp">‚àß</span> q <span class="bp">‚Üí</span> q <span class="bp">‚àß</span> p :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkf4" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkf4"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚Üí</span> q <span class="bp">‚àß</span> p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkf5" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkf5">intro h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">q <span class="bp">‚àß</span> p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkf6" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkf6">cases h <span class="k">with</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">q <span class="bp">‚àß</span> p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkf7" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkf7"><span class="bp">|</span> intro hp hq <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro</span></span><div class="goal-conclusion">q <span class="bp">‚àß</span> p</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkf8" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkf8">constructor</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.left</span></span><div class="goal-conclusion">q</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chkf9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chkf9"><hr><span class="goal-name">intro.right</span></label><div class="goal-conclusion">p</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkfa" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkfa">exact hq</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.right</span></span><div class="goal-conclusion">p</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkfb" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkfb">exact hp</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>In this example, there is only one goal after the <tt class="docutils literal">cases</tt> tactic is
applied, with <tt class="docutils literal">h : p ‚àß q</tt> replaced by a pair of assumptions,
<tt class="docutils literal">hp : p</tt> and <tt class="docutils literal">hq : q</tt>. The <tt class="docutils literal">constructor</tt> tactic applies the unique
constructor for conjunction, <tt class="docutils literal">And.intro</tt>. With these tactics, an
example from the previous section can be rewritten as follows:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (p q r : <span class="kt">Prop</span>) : p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üî</span> (p <span class="bp">‚àß</span> q) <span class="bp">‚à®</span> (p <span class="bp">‚àß</span> r) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkfc" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkfc"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üî</span> p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkfd" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkfd">apply Iff.intro</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chkfe" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chkfe"><hr><span class="goal-name">mpr</span></label><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chkff" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chkff"><span class="bp">.</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk100" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk100">intro h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk101" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk101">cases h <span class="k">with</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk102" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk102"><span class="bp">|</span> intro hp hqr <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span>q <span class="bp">‚à®</span> r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.intro</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk103" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk103">cases hqr</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.intro.inl</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk104" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk104"><hr><span class="goal-name">mp.intro.inr</span></label><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk105" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk105"><span class="bp">.</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.intro.inl</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk106" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk106">apply Or.inl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.intro.inl.h</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk107" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk107">constructor</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.intro.inl.h.left</span></span><div class="goal-conclusion">p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk108" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk108"><hr><span class="goal-name">mp.intro.inl.h.right</span></label><div class="goal-conclusion">q</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk109" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk109"> <span class="bp">&lt;;&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.intro.inl.h</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk10a" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk10a">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk10b" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk10b"><span class="bp">.</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.intro.inr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk10c" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk10c">apply Or.inr</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.intro.inr.h</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> r</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk10d" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk10d">constructor</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.intro.inr.h.left</span></span><div class="goal-conclusion">p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk10e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk10e"><hr><span class="goal-name">mp.intro.inr.h.right</span></label><div class="goal-conclusion">r</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk10f" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk10f"> <span class="bp">&lt;;&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.intro.inr.h</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk110" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk110">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk111" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk111"><span class="bp">.</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk112" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk112">intro h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk113" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk113">cases h <span class="k">with</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk114" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk114"><span class="bp">|</span> inl hpq <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hpq</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.inl</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk115" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk115">cases hpq <span class="k">with</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hpq</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.inl</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk116" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk116"><span class="bp">|</span> intro hp hq <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.inl.intro</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk117" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk117">constructor</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.inl.intro.left</span></span><div class="goal-conclusion">p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk118" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk118"><hr><span class="goal-name">mpr.inl.intro.right</span></label><div class="goal-conclusion">q <span class="bp">‚à®</span> r</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk119" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk119">exact hp</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.inl.intro.right</span></span><div class="goal-conclusion">q <span class="bp">‚à®</span> r</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk11a" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk11a">apply Or.inl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.inl.intro.right.h</span></span><div class="goal-conclusion">q</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk11b" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk11b">exact hq</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk11c" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk11c"><span class="bp">|</span> inr hpr <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hpr</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.inr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk11d" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk11d">cases hpr <span class="k">with</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hpr</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.inr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk11e" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk11e"><span class="bp">|</span> intro hp hr <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.inr.intro</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk11f" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk11f">constructor</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.inr.intro.left</span></span><div class="goal-conclusion">p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk120" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk120"><hr><span class="goal-name">mpr.inr.intro.right</span></label><div class="goal-conclusion">q <span class="bp">‚à®</span> r</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk121" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk121">exact hp</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.inr.intro.right</span></span><div class="goal-conclusion">q <span class="bp">‚à®</span> r</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk122" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk122">apply Or.inr</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.inr.intro.right.h</span></span><div class="goal-conclusion">r</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk123" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk123">exact hr</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>You will see in <div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">recipes/lean4-tactics-myst.md</tt>, line 601)</p>
Reference not found: ./inductive_types.md</div>
 that
these tactics are quite general. The <tt class="docutils literal">cases</tt> tactic can be used to
decompose any element of an inductively defined type; <tt class="docutils literal">constructor</tt>
always applies the first applicable constructor of an inductively defined type.
For example, you can use <tt class="docutils literal">cases</tt> and <tt class="docutils literal">constructor</tt> with an existential quantifier:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (p q : Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span>) : (<span class="bp">‚àÉ</span> x, p x) <span class="bp">‚Üí</span> <span class="bp">‚àÉ</span> x, p x <span class="bp">‚à®</span> q x :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk124" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk124"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="bp">‚àÉ</span> x, p x) <span class="bp">‚Üí</span> <span class="bp">‚àÉ</span> x, p x <span class="bp">‚à®</span> q x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk125" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk125">intro h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÉ</span> x, p x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">‚àÉ</span> x, p x <span class="bp">‚à®</span> q x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk126" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk126">cases h <span class="k">with</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÉ</span> x, p x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">‚àÉ</span> x, p x <span class="bp">‚à®</span> q x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk127" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk127"><span class="bp">|</span> intro x px <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>px</var><span class="hyp-type"><b>: </b><span>p x</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro</span></span><div class="goal-conclusion"><span class="bp">‚àÉ</span> x, p x <span class="bp">‚à®</span> q x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk128" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk128">constructor</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>px</var><span class="hyp-type"><b>: </b><span>p x</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.h</span></span><div class="goal-conclusion">p <span class="bp">?</span>intro.w <span class="bp">‚à®</span> q <span class="bp">?</span>intro.w</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk129" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>px</var><span class="hyp-type"><b>: </b><span>p x</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk129"><hr><span class="goal-name">intro.w</span></label><div class="goal-conclusion">Nat</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk12a" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk12a">apply Or.inl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>px</var><span class="hyp-type"><b>: </b><span>p x</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.h.h</span></span><div class="goal-conclusion">p <span class="bp">?</span>intro.w</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk12b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>px</var><span class="hyp-type"><b>: </b><span>p x</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk12b"><hr><span class="goal-name">intro.w</span></label><div class="goal-conclusion">Nat</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk12c" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk12c">exact px</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>Here, the <tt class="docutils literal">constructor</tt> tactic leaves the first component of the
existential assertion, the value of <tt class="docutils literal">x</tt>, implicit. It is represented
by a metavariable, which should be instantiated later on. In the
previous example, the proper value of the metavariable is determined
by the tactic <tt class="docutils literal">exact px</tt>, since <tt class="docutils literal">px</tt> has type <tt class="docutils literal">p x</tt>. If you want
to specify a witness to the existential quantifier explicitly, you can
use the <tt class="docutils literal">exists</tt> tactic instead:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (p q : Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span>) : (<span class="bp">‚àÉ</span> x, p x) <span class="bp">‚Üí</span> <span class="bp">‚àÉ</span> x, p x <span class="bp">‚à®</span> q x :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk12d" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk12d"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="bp">‚àÉ</span> x, p x) <span class="bp">‚Üí</span> <span class="bp">‚àÉ</span> x, p x <span class="bp">‚à®</span> q x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk12e" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk12e">intro h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÉ</span> x, p x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">‚àÉ</span> x, p x <span class="bp">‚à®</span> q x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk12f" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk12f">cases h <span class="k">with</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÉ</span> x, p x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">‚àÉ</span> x, p x <span class="bp">‚à®</span> q x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk130" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk130"><span class="bp">|</span> intro x px <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>px</var><span class="hyp-type"><b>: </b><span>p x</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro</span></span><div class="goal-conclusion"><span class="bp">‚àÉ</span> x, p x <span class="bp">‚à®</span> q x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk131" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk131">exists x</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>px</var><span class="hyp-type"><b>: </b><span>p x</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro</span></span><div class="goal-conclusion">p x <span class="bp">‚à®</span> q x</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk132" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk132">apply Or.inl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>px</var><span class="hyp-type"><b>: </b><span>p x</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.h</span></span><div class="goal-conclusion">p x</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk133" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk133">exact px</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>Here is another example:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (p q : Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span>) : (<span class="bp">‚àÉ</span> x, p x <span class="bp">‚àß</span> q x) <span class="bp">‚Üí</span> <span class="bp">‚àÉ</span> x, q x <span class="bp">‚àß</span> p x :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk134" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk134"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="bp">‚àÉ</span> x, p x <span class="bp">‚àß</span> q x) <span class="bp">‚Üí</span> <span class="bp">‚àÉ</span> x, q x <span class="bp">‚àß</span> p x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk135" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk135">intro h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÉ</span> x, p x <span class="bp">‚àß</span> q x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">‚àÉ</span> x, q x <span class="bp">‚àß</span> p x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk136" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk136">cases h <span class="k">with</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÉ</span> x, p x <span class="bp">‚àß</span> q x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">‚àÉ</span> x, q x <span class="bp">‚àß</span> p x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk137" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk137"><span class="bp">|</span> intro x hpq <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>hpq</var><span class="hyp-type"><b>: </b><span>p x <span class="bp">‚àß</span> q x</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro</span></span><div class="goal-conclusion"><span class="bp">‚àÉ</span> x, q x <span class="bp">‚àß</span> p x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk138" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk138">cases hpq <span class="k">with</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>hpq</var><span class="hyp-type"><b>: </b><span>p x <span class="bp">‚àß</span> q x</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro</span></span><div class="goal-conclusion"><span class="bp">‚àÉ</span> x, q x <span class="bp">‚àß</span> p x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk139" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk139"><span class="bp">|</span> intro hp hq <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p x</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q x</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro</span></span><div class="goal-conclusion"><span class="bp">‚àÉ</span> x, q x <span class="bp">‚àß</span> p x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk13a" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk13a">exists x</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p x</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q x</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro</span></span><div class="goal-conclusion">q x <span class="bp">‚àß</span> p x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk13b" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk13b">constructor</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p x</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q x</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro.left</span></span><div class="goal-conclusion">q x</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk13c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p x</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q x</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk13c"><hr><span class="goal-name">intro.intro.right</span></label><div class="goal-conclusion">p x</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk13d" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk13d"> <span class="bp">&lt;;&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p x</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q x</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro.intro</span></span><div class="goal-conclusion">q x <span class="bp">‚àß</span> p x</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk13e" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk13e">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>These tactics can be used on data just as well as propositions. In the
next two examples, they are used to define functions which swap the
components of the product and sum types:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">def</span> swap_pair : Œ± <span class="bp">√ó</span> Œ≤ <span class="bp">‚Üí</span> Œ≤ <span class="bp">√ó</span> Œ± :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk13f" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk13f"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ±</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> <span class="bp">?</span>u.3316</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> <span class="bp">?</span>u.3315</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Œ± <span class="bp">√ó</span> Œ≤ <span class="bp">‚Üí</span> Œ≤ <span class="bp">√ó</span> Œ±</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk140" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk140">intro p</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ±</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> <span class="bp">?</span>u.3316</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> <span class="bp">?</span>u.3315</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Œ± <span class="bp">√ó</span> Œ≤</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Œ≤ <span class="bp">√ó</span> Œ±</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk141" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk141">cases p</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ±</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> <span class="bp">?</span>u.3316</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> <span class="bp">?</span>u.3315</span></span></span><br><span><var>fst‚úù</var><span class="hyp-type"><b>: </b><span>Œ±</span></span></span><br><span><var>snd‚úù</var><span class="hyp-type"><b>: </b><span>Œ≤</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mk</span></span><div class="goal-conclusion">Œ≤ <span class="bp">√ó</span> Œ±</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk142" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk142">constructor</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ±</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> <span class="bp">?</span>u.3316</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> <span class="bp">?</span>u.3315</span></span></span><br><span><var>fst‚úù</var><span class="hyp-type"><b>: </b><span>Œ±</span></span></span><br><span><var>snd‚úù</var><span class="hyp-type"><b>: </b><span>Œ≤</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mk.fst</span></span><div class="goal-conclusion">Œ≤</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk143" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ±</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> <span class="bp">?</span>u.3316</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> <span class="bp">?</span>u.3315</span></span></span><br><span><var>fst‚úù</var><span class="hyp-type"><b>: </b><span>Œ±</span></span></span><br><span><var>snd‚úù</var><span class="hyp-type"><b>: </b><span>Œ≤</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk143"><hr><span class="goal-name">mk.snd</span></label><div class="goal-conclusion">Œ±</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk144" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk144"> <span class="bp">&lt;;&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ±</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> <span class="bp">?</span>u.3316</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> <span class="bp">?</span>u.3315</span></span></span><br><span><var>fst‚úù</var><span class="hyp-type"><b>: </b><span>Œ±</span></span></span><br><span><var>snd‚úù</var><span class="hyp-type"><b>: </b><span>Œ≤</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mk</span></span><div class="goal-conclusion">Œ≤ <span class="bp">√ó</span> Œ±</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk145" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk145">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">def</span> swap_sum : Sum Œ± Œ≤ <span class="bp">‚Üí</span> Sum Œ≤ Œ± :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk146" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk146"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ±</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> <span class="bp">?</span>u.3442</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> <span class="bp">?</span>u.3441</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Œ± <span class="bp">‚äï</span> Œ≤ <span class="bp">‚Üí</span> Œ≤ <span class="bp">‚äï</span> Œ±</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk147" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk147">intro p</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ±</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> <span class="bp">?</span>u.3442</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> <span class="bp">?</span>u.3441</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Œ± <span class="bp">‚äï</span> Œ≤</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Œ≤ <span class="bp">‚äï</span> Œ±</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk148" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk148">cases p</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ±</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> <span class="bp">?</span>u.3442</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> <span class="bp">?</span>u.3441</span></span></span><br><span><var>val‚úù</var><span class="hyp-type"><b>: </b><span>Œ±</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">Œ≤ <span class="bp">‚äï</span> Œ±</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk149" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ±</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> <span class="bp">?</span>u.3442</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> <span class="bp">?</span>u.3441</span></span></span><br><span><var>val‚úù</var><span class="hyp-type"><b>: </b><span>Œ≤</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk149"><hr><span class="goal-name">inr</span></label><div class="goal-conclusion">Œ≤ <span class="bp">‚äï</span> Œ±</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk14a" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk14a"><span class="bp">.</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ±</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> <span class="bp">?</span>u.3442</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> <span class="bp">?</span>u.3441</span></span></span><br><span><var>val‚úù</var><span class="hyp-type"><b>: </b><span>Œ±</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">Œ≤ <span class="bp">‚äï</span> Œ±</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk14b" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk14b">apply Sum.inr</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ±</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> <span class="bp">?</span>u.3442</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> <span class="bp">?</span>u.3441</span></span></span><br><span><var>val‚úù</var><span class="hyp-type"><b>: </b><span>Œ±</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl.val</span></span><div class="goal-conclusion">Œ±</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk14c" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk14c">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk14d" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk14d"><span class="bp">.</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ±</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> <span class="bp">?</span>u.3442</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> <span class="bp">?</span>u.3441</span></span></span><br><span><var>val‚úù</var><span class="hyp-type"><b>: </b><span>Œ≤</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr</span></span><div class="goal-conclusion">Œ≤ <span class="bp">‚äï</span> Œ±</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk14e" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk14e">apply Sum.inl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ±</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> <span class="bp">?</span>u.3442</span></span></span><br><span><var>Œ≤</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> <span class="bp">?</span>u.3441</span></span></span><br><span><var>val‚úù</var><span class="hyp-type"><b>: </b><span>Œ≤</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr.val</span></span><div class="goal-conclusion">Œ≤</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk14f" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk14f">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>Note that up to the names we have chosen for the variables, the
definitions are identical to the proofs of the analogous propositions
for conjunction and disjunction. The <tt class="docutils literal">cases</tt> tactic will also do a
case distinction on a natural number:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kn">open</span> Nat
<span class="kd">example</span> (P : Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span>) (h‚ÇÄ : P <span class="mi">0</span>) (h‚ÇÅ : <span class="bp">‚àÄ</span> n, P (succ n)) (m : Nat) : P m :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk150" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk150"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>P</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h‚ÇÄ</var><span class="hyp-type"><b>: </b><span>P <span class="mi">0</span></span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> (n : Nat), P (succ n)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk151" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk151">cases m <span class="k">with</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>P</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h‚ÇÄ</var><span class="hyp-type"><b>: </b><span>P <span class="mi">0</span></span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> (n : Nat), P (succ n)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk152" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk152"><span class="bp">|</span> zero    <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>P</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h‚ÇÄ</var><span class="hyp-type"><b>: </b><span>P <span class="mi">0</span></span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> (n : Nat), P (succ n)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">zero</span></span><div class="goal-conclusion">P zero</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk153" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk153">exact h‚ÇÄ</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk154" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk154"><span class="bp">|</span> succ m&#39; <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>P</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h‚ÇÄ</var><span class="hyp-type"><b>: </b><span>P <span class="mi">0</span></span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span><span class="bp">‚àÄ</span> (n : Nat), P (succ n)</span></span></span><br><span><var>m'</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">succ</span></span><div class="goal-conclusion">P (succ m&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk155" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk155">exact h‚ÇÅ m&#39;</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>The <tt class="docutils literal">cases</tt> tactic, and its companion, the <tt class="docutils literal">induction</tt> tactic, are discussed in greater detail in
the <a class="reference external" href="./inductive_types.md#tactics_for_inductive_types">Tactics for Inductive Types</a> section.</p>
<p>The <tt class="docutils literal">contradiction</tt> tactic searches for a contradiction among the hypotheses of the current goal:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (p q : <span class="kt">Prop</span>) : p <span class="bp">‚àß</span> <span class="bp">¬¨</span> p <span class="bp">‚Üí</span> q :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk156" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk156"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> <span class="bp">¬¨</span>p <span class="bp">‚Üí</span> q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk157" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk157">intro h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> <span class="bp">¬¨</span>p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk158" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk158">cases h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">intro</span></span><div class="goal-conclusion">q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk159" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk159">contradiction</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>You can also use <tt class="docutils literal">match</tt> in tactic blocks.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (p q r : <span class="kt">Prop</span>) : p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üî</span> (p <span class="bp">‚àß</span> q) <span class="bp">‚à®</span> (p <span class="bp">‚àß</span> r) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk15a" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk15a"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üî</span> p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk15b" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk15b">apply Iff.intro</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk15c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk15c"><hr><span class="goal-name">mpr</span></label><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk15d" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk15d"><span class="bp">.</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk15e" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk15e">intro h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk15f" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk15f"><span class="k">match</span> h <span class="k">with</span>
    <span class="bp">|</span> ‚ü®_, Or.inl _‚ü© <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk160" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk160">apply Or.inl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk161" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk161">constructor</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.left</span></span><div class="goal-conclusion">p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk162" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk162"><hr><span class="goal-name">h.right</span></label><div class="goal-conclusion">q</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk163" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk163"> <span class="bp">&lt;;&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk164" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk164">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk165" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk165">
    <span class="bp">|</span> ‚ü®_, Or.inr _‚ü© <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk166" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk166">apply Or.inr</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> r</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk167" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk167">constructor</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.left</span></span><div class="goal-conclusion">p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk168" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk168"><hr><span class="goal-name">h.right</span></label><div class="goal-conclusion">r</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk169" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk169"> <span class="bp">&lt;;&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk16a" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk16a">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk16b" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk16b"><span class="bp">.</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk16c" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk16c">intro h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk16d" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk16d"><span class="k">match</span> h <span class="k">with</span>
    <span class="bp">|</span> Or.inl ‚ü®hp, hq‚ü© <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk16e" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk16e">constructor</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">left</span></span><div class="goal-conclusion">p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk16f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk16f"><hr><span class="goal-name">right</span></label><div class="goal-conclusion">q <span class="bp">‚à®</span> r</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk170" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk170">exact hp</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">right</span></span><div class="goal-conclusion">q <span class="bp">‚à®</span> r</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk171" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk171">apply Or.inl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">right.h</span></span><div class="goal-conclusion">q</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk172" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk172">exact hq</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk173" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk173">
    <span class="bp">|</span> Or.inr ‚ü®hp, hr‚ü© <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk174" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk174">constructor</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">left</span></span><div class="goal-conclusion">p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk175" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk175"><hr><span class="goal-name">right</span></label><div class="goal-conclusion">q <span class="bp">‚à®</span> r</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk176" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk176">exact hp</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">right</span></span><div class="goal-conclusion">q <span class="bp">‚à®</span> r</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk177" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk177">apply Or.inr</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">right.h</span></span><div class="goal-conclusion">r</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk178" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk178">exact hr</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>You can &quot;combine&quot; <tt class="docutils literal">intro h</tt> with <tt class="docutils literal">match h ...</tt> and write the previous examples as follows</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (p q r : <span class="kt">Prop</span>) : p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üî</span> (p <span class="bp">‚àß</span> q) <span class="bp">‚à®</span> (p <span class="bp">‚àß</span> r) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk179" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk179"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üî</span> p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk17a" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk17a">apply Iff.intro</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk17b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk17b"><hr><span class="goal-name">mpr</span></label><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk17c" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk17c"><span class="bp">.</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk17d" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk17d">intro
     <span class="bp">|</span> ‚ü®hp, Or.inl hq‚ü© <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk17e" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk17e">apply Or.inl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk17f" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk17f">constructor</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.left</span></span><div class="goal-conclusion">p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk180" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk180"><hr><span class="goal-name">h.right</span></label><div class="goal-conclusion">q</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk181" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk181"> <span class="bp">&lt;;&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk182" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk182">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk183" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk183">
     <span class="bp">|</span> ‚ü®hp, Or.inr hr‚ü© <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk184" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk184">apply Or.inr</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> r</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk185" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk185">constructor</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.left</span></span><div class="goal-conclusion">p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk186" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk186"><hr><span class="goal-name">h.right</span></label><div class="goal-conclusion">r</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk187" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk187"> <span class="bp">&lt;;&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk188" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk188">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk189" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk189"><span class="bp">.</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk18a" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk18a">intro
     <span class="bp">|</span> Or.inl ‚ü®hp, hq‚ü© <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk18b" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk18b">constructor</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">left</span></span><div class="goal-conclusion">p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk18c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk18c"><hr><span class="goal-name">right</span></label><div class="goal-conclusion">q <span class="bp">‚à®</span> r</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk18d" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk18d">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">right</span></span><div class="goal-conclusion">q <span class="bp">‚à®</span> r</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk18e" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk18e">apply Or.inl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">right.h</span></span><div class="goal-conclusion">q</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk18f" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk18f">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk190" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk190">
     <span class="bp">|</span> Or.inr ‚ü®hp, hr‚ü© <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk191" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk191">constructor</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">left</span></span><div class="goal-conclusion">p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk192" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk192"><hr><span class="goal-name">right</span></label><div class="goal-conclusion">q <span class="bp">‚à®</span> r</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk193" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk193">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">right</span></span><div class="goal-conclusion">q <span class="bp">‚à®</span> r</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk194" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk194">apply Or.inr</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">right.h</span></span><div class="goal-conclusion">r</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk195" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk195">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span></pre></div>
<div class="section" id="structuring-tactic-proofs">
<h2>Structuring Tactic Proofs</h2>
<p>Tactics often provide an efficient way of building a proof, but long
sequences of instructions can obscure the structure of the
argument. In this section, we describe some means that help provide
structure to a tactic-style proof, making such proofs more readable
and robust.</p>
<p>One thing that is nice about Lean's proof-writing syntax is that it is
possible to mix term-style and tactic-style proofs, and pass between
the two freely. For example, the tactics <tt class="docutils literal">apply</tt> and <tt class="docutils literal">exact</tt>
expect arbitrary terms, which you can write using <tt class="docutils literal">have</tt>, <tt class="docutils literal">show</tt>,
and so on. Conversely, when writing an arbitrary Lean term, you can
always invoke the tactic mode by inserting a <tt class="docutils literal">by</tt>
block. The following is a somewhat toy example:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (p q r : <span class="kt">Prop</span>) : p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üí</span> (p <span class="bp">‚àß</span> q) <span class="bp">‚à®</span> (p <span class="bp">‚àß</span> r) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk196" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk196"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk197" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk197">intro h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk198" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk198">exact
    <span class="k">have</span> hp : p := h.left
    <span class="k">have</span> hqr : q <span class="bp">‚à®</span> r := h.right
    <span class="k">show</span> (p <span class="bp">‚àß</span> q) <span class="bp">‚à®</span> (p <span class="bp">‚àß</span> r)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk199" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk199"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span>q <span class="bp">‚à®</span> r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk19a" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk19a">cases hqr <span class="k">with</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span>q <span class="bp">‚à®</span> r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk19b" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk19b"><span class="bp">|</span> inl hq <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk19c" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk19c">exact Or.inl ‚ü®hp, hq‚ü©</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk19d" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk19d"><span class="bp">|</span> inr hr <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk19e" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk19e">exact Or.inr ‚ü®hp, hr‚ü©</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>The following is a more natural example:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (p q r : <span class="kt">Prop</span>) : p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üî</span> (p <span class="bp">‚àß</span> q) <span class="bp">‚à®</span> (p <span class="bp">‚àß</span> r) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk19f" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk19f"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üî</span> p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1a0" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1a0">apply Iff.intro</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk1a1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk1a1"><hr><span class="goal-name">mpr</span></label><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1a2" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1a2"><span class="bp">.</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1a3" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1a3">intro h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1a4" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1a4">cases h.right <span class="k">with</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1a5" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1a5"><span class="bp">|</span> inl hq <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.inl</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1a6" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1a6">exact Or.inl ‚ü®h.left, hq‚ü©</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1a7" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1a7"><span class="bp">|</span> inr hr <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.inr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1a8" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1a8">exact Or.inr ‚ü®h.left, hr‚ü©</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1a9" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1a9"><span class="bp">.</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1aa" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1aa">intro h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1ab" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1ab">cases h <span class="k">with</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1ac" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1ac"><span class="bp">|</span> inl hpq <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hpq</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.inl</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1ad" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1ad">exact ‚ü®hpq.left, Or.inl hpq.right‚ü©</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1ae" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1ae"><span class="bp">|</span> inr hpr <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hpr</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.inr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1af" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1af">exact ‚ü®hpr.left, Or.inr hpr.right‚ü©</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>In fact, there is a <tt class="docutils literal">show</tt> tactic, which is similar to the
<tt class="docutils literal">show</tt> expression in a proof term. It simply declares the type of the
goal that is about to be solved, while remaining in tactic
mode.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (p q r : <span class="kt">Prop</span>) : p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üî</span> (p <span class="bp">‚àß</span> q) <span class="bp">‚à®</span> (p <span class="bp">‚àß</span> r) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1b0" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1b0"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üî</span> p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1b1" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1b1">apply Iff.intro</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk1b2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk1b2"><hr><span class="goal-name">mpr</span></label><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1b3" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1b3"><span class="bp">.</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1b4" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1b4">intro h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1b5" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1b5">cases h.right <span class="k">with</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1b6" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1b6"><span class="bp">|</span> inl hq <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.inl</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1b7" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1b7"><span class="k">show</span> (p <span class="bp">‚àß</span> q) <span class="bp">‚à®</span> (p <span class="bp">‚àß</span> r)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.inl</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1b8" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1b8">exact Or.inl ‚ü®h.left, hq‚ü©</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1b9" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1b9"><span class="bp">|</span> inr hr <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.inr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1ba" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1ba"><span class="k">show</span> (p <span class="bp">‚àß</span> q) <span class="bp">‚à®</span> (p <span class="bp">‚àß</span> r)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.inr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1bb" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1bb">exact Or.inr ‚ü®h.left, hr‚ü©</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1bc" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1bc"><span class="bp">.</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1bd" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1bd">intro h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1be" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1be">cases h <span class="k">with</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1bf" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1bf"><span class="bp">|</span> inl hpq <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hpq</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.inl</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1c0" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1c0"><span class="k">show</span> p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hpq</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.inl</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1c1" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1c1">exact ‚ü®hpq.left, Or.inl hpq.right‚ü©</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1c2" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1c2"><span class="bp">|</span> inr hpr <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hpr</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.inr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1c3" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1c3"><span class="k">show</span> p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hpr</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.inr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1c4" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1c4">exact ‚ü®hpr.left, Or.inr hpr.right‚ü©</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>The <tt class="docutils literal">show</tt> tactic can actually be used to rewrite a goal to something definitionally equivalent:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (n : Nat) : n <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=</span> Nat.succ n :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1c5" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1c5"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n <span class="bp">+</span> <span class="mi">1</span> <span class="bp">=</span> succ n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1c6" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1c6"><span class="k">show</span> Nat.succ n <span class="bp">=</span> Nat.succ n</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">succ n <span class="bp">=</span> succ n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1c7" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1c7">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>There is also a <tt class="docutils literal">have</tt> tactic, which introduces a new subgoal, just as when writing proof terms:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (p q r : <span class="kt">Prop</span>) : p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üí</span> (p <span class="bp">‚àß</span> q) <span class="bp">‚à®</span> (p <span class="bp">‚àß</span> r) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1c8" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1c8"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1c9" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1c9">intro ‚ü®hp, hqr‚ü©</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span>q <span class="bp">‚à®</span> r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1ca" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1ca"><span class="k">show</span> (p <span class="bp">‚àß</span> q) <span class="bp">‚à®</span> (p <span class="bp">‚àß</span> r)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span>q <span class="bp">‚à®</span> r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1cb" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1cb">cases hqr <span class="k">with</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span>q <span class="bp">‚à®</span> r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1cc" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1cc"><span class="bp">|</span> inl hq <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1cd" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1cd"><span class="k">have</span> hpq : p <span class="bp">‚àß</span> q := And.intro hp hq</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hpq</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1ce" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1ce">apply Or.inl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hpq</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl.h</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1cf" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1cf">exact hpq</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1d0" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1d0"><span class="bp">|</span> inr hr <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1d1" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1d1"><span class="k">have</span> hpr : p <span class="bp">‚àß</span> r := And.intro hp hr</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br><span><var>hpr</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1d2" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1d2">apply Or.inr</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br><span><var>hpr</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr.h</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1d3" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1d3">exact hpr</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>As with proof terms, you can omit the label in the <tt class="docutils literal">have</tt> tactic, in
which case, the default label <tt class="docutils literal">this</tt> is used:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (p q r : <span class="kt">Prop</span>) : p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üí</span> (p <span class="bp">‚àß</span> q) <span class="bp">‚à®</span> (p <span class="bp">‚àß</span> r) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1d4" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1d4"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1d5" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1d5">intro ‚ü®hp, hqr‚ü©</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span>q <span class="bp">‚à®</span> r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1d6" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1d6"><span class="k">show</span> (p <span class="bp">‚àß</span> q) <span class="bp">‚à®</span> (p <span class="bp">‚àß</span> r)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span>q <span class="bp">‚à®</span> r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1d7" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1d7">cases hqr <span class="k">with</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span>q <span class="bp">‚à®</span> r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1d8" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1d8"><span class="bp">|</span> inl hq <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1d9" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1d9"><span class="k">have</span> : p <span class="bp">‚àß</span> q := And.intro hp hq</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1da" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1da">apply Or.inl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl.h</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1db" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1db">exact this</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1dc" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1dc"><span class="bp">|</span> inr hr <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1dd" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1dd"><span class="k">have</span> : p <span class="bp">‚àß</span> r := And.intro hp hr</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1de" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1de">apply Or.inr</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr.h</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1df" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1df">exact this</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>The types in a <tt class="docutils literal">have</tt> tactic can be omitted, so you can write <tt class="docutils literal">have hp := h.left</tt> and <tt class="docutils literal">have hqr := h.right</tt>.  In fact, with this
notation, you can even omit both the type and the label, in which case
the new fact is introduced with the label <tt class="docutils literal">this</tt>.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (p q r : <span class="kt">Prop</span>) : p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üí</span> (p <span class="bp">‚àß</span> q) <span class="bp">‚à®</span> (p <span class="bp">‚àß</span> r) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1e0" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1e0"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1e1" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1e1">intro ‚ü®hp, hqr‚ü©</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span>q <span class="bp">‚à®</span> r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1e2" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1e2">cases hqr <span class="k">with</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hqr</var><span class="hyp-type"><b>: </b><span>q <span class="bp">‚à®</span> r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1e3" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1e3"><span class="bp">|</span> inl hq <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1e4" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1e4"><span class="k">have</span> := And.intro hp hq</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1e5" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1e5">apply Or.inl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inl.h</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1e6" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1e6">exact this</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1e7" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1e7"><span class="bp">|</span> inr hr <span class="bp">=&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1e8" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1e8"><span class="k">have</span> := And.intro hp hr</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1e9" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1e9">apply Or.inr</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br><span><var>this</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">inr.h</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> r</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1ea" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1ea">exact this</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>Lean also has a <tt class="docutils literal">let</tt> tactic, which is similar to the <tt class="docutils literal">have</tt>
tactic, but is used to introduce local definitions instead of
auxiliary facts. It is the tactic analogue of a <tt class="docutils literal">let</tt> in a proof
term.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> : <span class="bp">‚àÉ</span> x, x <span class="bp">+</span> <span class="mi">2</span> <span class="bp">=</span> <span class="mi">8</span> :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1eb" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1eb"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">‚àÉ</span> x, x <span class="bp">+</span> <span class="mi">2</span> <span class="bp">=</span> <span class="mi">8</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1ec" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1ec"><span class="k">let</span> a : Nat := <span class="mi">3</span> <span class="bp">*</span> <span class="mi">2</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">3</span> <span class="bp">*</span> <span class="mi">2</span></span></span><span class="hyp-type"><b>: </b><span>Nat</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="bp">‚àÉ</span> x, x <span class="bp">+</span> <span class="mi">2</span> <span class="bp">=</span> <span class="mi">8</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1ed" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1ed">exists a</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a</var><span><span class="hyp-body"><b>:= </b><span><span class="mi">3</span> <span class="bp">*</span> <span class="mi">2</span></span></span><span class="hyp-type"><b>: </b><span>Nat</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a <span class="bp">+</span> <span class="mi">2</span> <span class="bp">=</span> <span class="mi">8</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1ee" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1ee">rfl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>As with <tt class="docutils literal">have</tt>, you can leave the type implicit by writing <tt class="docutils literal">let a := 3 * 2</tt>. The difference between <tt class="docutils literal">let</tt> and <tt class="docutils literal">have</tt> is that
<tt class="docutils literal">let</tt> introduces a local definition in the context, so that the
definition of the local declaration can be unfolded in the proof.</p>
<p>We have used <tt class="docutils literal">.</tt> to create nested tactic blocks.  In a nested block,
Lean focuses on the first goal, and generates an error if it has not
been fully solved at the end of the block. This can be helpful in
indicating the separate proofs of multiple subgoals introduced by a
tactic. The notation <tt class="docutils literal">.</tt> is whitespace sensitive and relies on the indentation
to detect whether the tactic block ends. Alternatively, you can
define tactic blocks usind curly braces and semicolons.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (p q r : <span class="kt">Prop</span>) : p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üî</span> (p <span class="bp">‚àß</span> q) <span class="bp">‚à®</span> (p <span class="bp">‚àß</span> r) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1ef" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1ef"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üî</span> p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1f0" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1f0">apply Iff.intro</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk1f1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk1f1"><hr><span class="goal-name">mpr</span></label><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1f2" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1f2">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1f3" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1f3">intro h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span>
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1f4" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1f4">cases h.right</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.inl</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk1f5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk1f5"><hr><span class="goal-name">mp.inr</span></label><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span>
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1f6" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1f6">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.inl</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1f7" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1f7"><span class="k">show</span> (p <span class="bp">‚àß</span> q) <span class="bp">‚à®</span> (p <span class="bp">‚àß</span> r)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.inl</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span>
</span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1f8" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1f8">exact Or.inl ‚ü®h.left, ‚Äπq‚Ä∫‚ü©</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1f9" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1f9"> }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.inr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1fa" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1fa">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.inr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1fb" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1fb"><span class="k">show</span> (p <span class="bp">‚àß</span> q) <span class="bp">‚à®</span> (p <span class="bp">‚àß</span> r)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mp.inr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span>
</span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1fc" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1fc">exact Or.inr ‚ü®h.left, ‚Äπr‚Ä∫‚ü©</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1fd" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1fd"> }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1fe" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1fe"> }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk1ff" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk1ff">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r <span class="bp">‚Üí</span> p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk200" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk200">intro h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q <span class="bp">‚à®</span> p <span class="bp">‚àß</span> r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span>
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk201" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk201">cases h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.inl</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk202" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk202"><hr><span class="goal-name">mpr.inr</span></label><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span>
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk203" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk203">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.inl</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk204" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk204"><span class="k">show</span> p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.inl</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span>
</span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk205" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk205">rename_i hpq</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hpq</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.inl</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span>
</span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk206" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk206">exact ‚ü®hpq.left, Or.inl hpq.right‚ü©</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk207" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk207"> }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.inr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk208" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk208">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.inr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk209" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk209"><span class="k">show</span> p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.inr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span>
</span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk20a" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk20a">rename_i hpr</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hpr</var><span class="hyp-type"><b>: </b><span>p <span class="bp">‚àß</span> r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">mpr.inr</span></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span>
</span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk20b" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk20b">exact ‚ü®hpr.left, Or.inr hpr.right‚ü©</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk20c" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk20c"> }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk20d" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk20d"> }</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>It useful to use indendation to structure proof: every time a tactic
leaves more than one subgoal, we separate the remaining subgoals by
enclosing them in blocks and indenting.  Thus if the application of
theorem <tt class="docutils literal">foo</tt> to a single goal produces four subgoals, one would
expect the proof to look like this:</p>
<pre class="literal-block">
  apply foo
  . &lt;proof of first goal&gt;
  . &lt;proof of second goal&gt;
  . &lt;proof of third goal&gt;
  . &lt;proof of final goal&gt;

</pre>
<p>or</p>
<pre class="literal-block">
  apply foo
  case &lt;tag of first goal&gt;  =&gt; &lt;proof of first goal&gt;
  case &lt;tag of second goal&gt; =&gt; &lt;proof of second goal&gt;
  case &lt;tag of third goal&gt;  =&gt; &lt;proof of third goal&gt;
  case &lt;tag of final goal&gt;  =&gt; &lt;proof of final goal&gt;

</pre>
<p>or</p>
<pre class="literal-block">
  apply foo
  { &lt;proof of first goal&gt;  }
  { &lt;proof of second goal&gt; }
  { &lt;proof of third goal&gt;  }
  { &lt;proof of final goal&gt;  }

</pre>
</div>
<div class="section" id="tactic-combinators">
<h2>Tactic Combinators</h2>
<p><em>Tactic combinators</em> are operations that form new tactics from old
ones. A sequencing combinator is already implicit in the <tt class="docutils literal">by</tt> block:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (p q : <span class="kt">Prop</span>) (hp : p) : p <span class="bp">‚à®</span> q :=
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk20e" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk20e"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚à®</span> q</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk20f" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk20f">apply Or.inl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">p</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk210" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk210">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>Here, <tt class="docutils literal">apply Or.inl; assumption</tt> is functionally equivalent to a
single tactic which first applies <tt class="docutils literal">apply Or.inl</tt> and then applies
<tt class="docutils literal">assumption</tt>.</p>
<p>In <tt class="docutils literal">t‚ÇÅ &lt;;&gt; t‚ÇÇ</tt>, the <tt class="docutils literal">&lt;;&gt;</tt> operator provides a <em>parallel</em> version of the sequencing operation:
<tt class="docutils literal">t‚ÇÅ</tt> is applied to the current goal, and then <tt class="docutils literal">t‚ÇÇ</tt> is applied to <em>all</em> the resulting subgoals:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (p q : <span class="kt">Prop</span>) (hp : p) (hq : q) : p <span class="bp">‚àß</span> q :=
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk211" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk211"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk212" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk212">constructor</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">left</span></span><div class="goal-conclusion">p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk213" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk213"><hr><span class="goal-name">right</span></label><div class="goal-conclusion">q</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk214" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk214"> <span class="bp">&lt;;&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk215" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk215">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>This is especially useful when the resulting goals can be finished off
in a uniform way, or, at least, when it is possible to make progress
on all of them uniformly.</p>
<p>The <tt class="docutils literal">first | t‚ÇÅ | t‚ÇÇ | ... | t‚Çô</tt> applies each <tt class="docutils literal">t·µ¢</tt> until one succeeds, or else fails:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (p q : <span class="kt">Prop</span>) (hp : p) : p <span class="bp">‚à®</span> q :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk216" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk216"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚à®</span> q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk217" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk217">first <span class="bp">|</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚à®</span> q</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk218" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk218">apply Or.inl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">p</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk219" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk219">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk21a" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk21a"> <span class="bp">|</span> apply Or.inr<span class="bp">;</span> assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>In the first example, the left branch succeeds, whereas in the second one, it is the right one that succeeds.
In the next three examples, the same compound tactic succeeds in each case.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (p q r : <span class="kt">Prop</span>) (hp : p) : p <span class="bp">‚à®</span> q <span class="bp">‚à®</span> r :=
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk21b" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk21b"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚à®</span> q <span class="bp">‚à®</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk21c" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk21c">repeat</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚à®</span> q <span class="bp">‚à®</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">(</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk21d" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk21d">first <span class="bp">|</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚à®</span> q <span class="bp">‚à®</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk21e" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk21e">apply Or.inl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">p</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk21f" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk21f">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk220" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk220"> <span class="bp">|</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚à®</span> q <span class="bp">‚à®</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk221" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk221">apply Or.inr</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk222" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk222"> <span class="bp">|</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚à®</span> q <span class="bp">‚à®</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk223" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk223">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk224" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk224">)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">example</span> (p q r : <span class="kt">Prop</span>) (hq : q) : p <span class="bp">‚à®</span> q <span class="bp">‚à®</span> r :=
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk225" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk225"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚à®</span> q <span class="bp">‚à®</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk226" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk226">repeat</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚à®</span> q <span class="bp">‚à®</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk227" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk227">(</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚à®</span> q <span class="bp">‚à®</span> r</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk228" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk228">first <span class="bp">|</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚à®</span> q <span class="bp">‚à®</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk229" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk229">apply Or.inl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk22a" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk22a">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">p</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk22b" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk22b"> <span class="bp">|</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚à®</span> q <span class="bp">‚à®</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk22c" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk22c">apply Or.inr</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk22d" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk22d"> <span class="bp">|</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚à®</span> q <span class="bp">‚à®</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk22e" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk22e">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk22f" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk22f">)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">q <span class="bp">‚à®</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">example</span> (p q r : <span class="kt">Prop</span>) (hr : r) : p <span class="bp">‚à®</span> q <span class="bp">‚à®</span> r :=
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk230" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk230"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚à®</span> q <span class="bp">‚à®</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk231" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk231">repeat</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚à®</span> q <span class="bp">‚à®</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">(</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk232" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk232">first <span class="bp">|</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">q <span class="bp">‚à®</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk233" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk233">apply Or.inl</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">p</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk234" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk234">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.h</span></span><div class="goal-conclusion">q</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk235" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk235"> <span class="bp">|</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">q <span class="bp">‚à®</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk236" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk236">apply Or.inr</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h.h</span></span><div class="goal-conclusion">r</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk237" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk237"> <span class="bp">|</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">h</span></span><div class="goal-conclusion">q <span class="bp">‚à®</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk238" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk238">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk239" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk239">)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>The tactic tries to solve the left disjunct immediately by assumption;
if that fails, it tries to focus on the right disjunct; and if that
doesn't work, it invokes the assumption tactic.</p>
<p>You will have no doubt noticed by now that tactics can fail. Indeed,
it is the &quot;failure&quot; state that causes the <em>first</em> combinator to
backtrack and try the next tactic. The <tt class="docutils literal">try</tt> combinator builds a
tactic that always succeeds, though possibly in a trivial way:
<tt class="docutils literal">try t</tt> executes <tt class="docutils literal">t</tt> and reports success, even if <tt class="docutils literal">t</tt> fails. It is
equivalent to <tt class="docutils literal">first | t | skip</tt>, where <tt class="docutils literal">skip</tt> is a tactic that does
nothing (and succeeds in doing so). In the next example, the second
<tt class="docutils literal">constructor</tt> succeeds on the right conjunct <tt class="docutils literal">q ‚àß r</tt> (remember that
disjunction and conjunction associate to the right) but fails on the
first. The <tt class="docutils literal">try</tt> tactic ensures that the sequential composition
succeeds.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (p q r : <span class="kt">Prop</span>) (hp : p) (hq : q) (hr : r) : p <span class="bp">‚àß</span> q <span class="bp">‚àß</span> r :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk23a" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk23a"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk23b" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk23b">constructor</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">left</span></span><div class="goal-conclusion">p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk23c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk23c"><hr><span class="goal-name">right</span></label><div class="goal-conclusion">q <span class="bp">‚àß</span> r</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk23d" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk23d"> <span class="bp">&lt;;&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk23e" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk23e">(</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">right</span></span><div class="goal-conclusion">q <span class="bp">‚àß</span> r</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk23f" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk23f">try</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">left</span></span><div class="goal-conclusion">p</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk240" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk240">constructor</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">left</span></span><div class="goal-conclusion">p</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk241" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk241">)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">right.left</span></span><div class="goal-conclusion">q</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk242" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk242"><hr><span class="goal-name">right.right</span></label><div class="goal-conclusion">r</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk243" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk243"> <span class="bp">&lt;;&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">left</span></span><div class="goal-conclusion">p</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk244" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk244">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>Be careful: <tt class="docutils literal">repeat (try t)</tt> will loop forever, because the inner tactic never fails.</p>
<p>In a proof, there are often multiple goals outstanding. Parallel
sequencing is one way to arrange it so that a single tactic is applied
to multiple goals, but there are other ways to do this. For example,
<tt class="docutils literal">all_goals t</tt> applies <tt class="docutils literal">t</tt> to all open goals:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (p q r : <span class="kt">Prop</span>) (hp : p) (hq : q) (hr : r) : p <span class="bp">‚àß</span> q <span class="bp">‚àß</span> r :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk245" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk245"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk246" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk246">constructor</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">left</span></span><div class="goal-conclusion">p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk247" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk247"><hr><span class="goal-name">right</span></label><div class="goal-conclusion">q <span class="bp">‚àß</span> r</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk248" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk248">all_goals</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">left</span></span><div class="goal-conclusion">p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk249" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk249"><hr><span class="goal-name">right</span></label><div class="goal-conclusion">q <span class="bp">‚àß</span> r</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk24a" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk24a">(</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">right</span></span><div class="goal-conclusion">q <span class="bp">‚àß</span> r</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk24b" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk24b">try</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">left</span></span><div class="goal-conclusion">p</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk24c" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk24c">constructor</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">left</span></span><div class="goal-conclusion">p</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk24d" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk24d">)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">right.left</span></span><div class="goal-conclusion">q</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk24e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk24e"><hr><span class="goal-name">right.right</span></label><div class="goal-conclusion">r</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk24f" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk24f">all_goals</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">left</span></span><div class="goal-conclusion">p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk250" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk250"><hr><span class="goal-name">right.left</span></label><div class="goal-conclusion">q</div></blockquote><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk251" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk251"><hr><span class="goal-name">right.right</span></label><div class="goal-conclusion">r</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk252" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk252">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>In this case, the <tt class="docutils literal">any_goals</tt> tactic provides a more robust solution.
It is similar to <tt class="docutils literal">all_goals</tt>, except it fails unless its argument
succeeds on at least one goal.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (p q r : <span class="kt">Prop</span>) (hp : p) (hq : q) (hr : r) : p <span class="bp">‚àß</span> q <span class="bp">‚àß</span> r :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk253" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk253"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚àß</span> r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk254" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk254">constructor</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">left</span></span><div class="goal-conclusion">p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk255" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk255"><hr><span class="goal-name">right</span></label><div class="goal-conclusion">q <span class="bp">‚àß</span> r</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk256" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk256">any_goals</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">left</span></span><div class="goal-conclusion">p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk257" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk257"><hr><span class="goal-name">right</span></label><div class="goal-conclusion">q <span class="bp">‚àß</span> r</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk258" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk258">constructor</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">left</span></span><div class="goal-conclusion">p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk259" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk259">any_goals</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">left</span></span><div class="goal-conclusion">p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk25a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk25a"><hr><span class="goal-name">right.left</span></label><div class="goal-conclusion">q</div></blockquote><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk25b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk25b"><hr><span class="goal-name">right.right</span></label><div class="goal-conclusion">r</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk25c" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk25c">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>The first tactic in the <tt class="docutils literal">by</tt> block below repeatedly splits
conjunctions:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (p q r : <span class="kt">Prop</span>) (hp : p) (hq : q) (hr : r) :
      p <span class="bp">‚àß</span> ((p <span class="bp">‚àß</span> q) <span class="bp">‚àß</span> r) <span class="bp">‚àß</span> (q <span class="bp">‚àß</span> r <span class="bp">‚àß</span> p) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk25d" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk25d"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> ((p <span class="bp">‚àß</span> q) <span class="bp">‚àß</span> r) <span class="bp">‚àß</span> q <span class="bp">‚àß</span> r <span class="bp">‚àß</span> p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk25e" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk25e">repeat</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> ((p <span class="bp">‚àß</span> q) <span class="bp">‚àß</span> r) <span class="bp">‚àß</span> q <span class="bp">‚àß</span> r <span class="bp">‚àß</span> p</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk25f" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk25f">(</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">left</span></span><div class="goal-conclusion">p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk260" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk260"><hr><span class="goal-name">right.left.left</span></label><div class="goal-conclusion">p <span class="bp">‚àß</span> q</div></blockquote><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk261" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk261"><hr><span class="goal-name">right.left.right</span></label><div class="goal-conclusion">r</div></blockquote><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk262" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk262"><hr><span class="goal-name">right.right.left</span></label><div class="goal-conclusion">q</div></blockquote><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk263" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk263"><hr><span class="goal-name">right.right.right</span></label><div class="goal-conclusion">r <span class="bp">‚àß</span> p</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk264" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk264">any_goals</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">left</span></span><div class="goal-conclusion">p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk265" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk265"><hr><span class="goal-name">right.left</span></label><div class="goal-conclusion">(p <span class="bp">‚àß</span> q) <span class="bp">‚àß</span> r</div></blockquote><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk266" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk266"><hr><span class="goal-name">right.right</span></label><div class="goal-conclusion">q <span class="bp">‚àß</span> r <span class="bp">‚àß</span> p</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk267" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk267">constructor</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">left</span></span><div class="goal-conclusion">p</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk268" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk268">)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">left</span></span><div class="goal-conclusion">p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk269" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk269"><hr><span class="goal-name">right.left.left.left</span></label><div class="goal-conclusion">p</div></blockquote><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk26a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk26a"><hr><span class="goal-name">right.left.left.right</span></label><div class="goal-conclusion">q</div></blockquote><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk26b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk26b"><hr><span class="goal-name">right.left.right</span></label><div class="goal-conclusion">r</div></blockquote><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk26c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk26c"><hr><span class="goal-name">right.right.left</span></label><div class="goal-conclusion">q</div></blockquote><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk26d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk26d"><hr><span class="goal-name">right.right.right.left</span></label><div class="goal-conclusion">r</div></blockquote><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk26e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk26e"><hr><span class="goal-name">right.right.right.right</span></label><div class="goal-conclusion">p</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk26f" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk26f">all_goals</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">left</span></span><div class="goal-conclusion">p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk270" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk270"><hr><span class="goal-name">right.left.left.left</span></label><div class="goal-conclusion">p</div></blockquote><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk271" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk271"><hr><span class="goal-name">right.left.left.right</span></label><div class="goal-conclusion">q</div></blockquote><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk272" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk272"><hr><span class="goal-name">right.left.right</span></label><div class="goal-conclusion">r</div></blockquote><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk273" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk273"><hr><span class="goal-name">right.right.left</span></label><div class="goal-conclusion">q</div></blockquote><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk274" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk274"><hr><span class="goal-name">right.right.right.left</span></label><div class="goal-conclusion">r</div></blockquote><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk275" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk275"><hr><span class="goal-name">right.right.right.right</span></label><div class="goal-conclusion">p</div></blockquote></div></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk276" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk276">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>In fact, we can compress the full tactic down to one line:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (p q r : <span class="kt">Prop</span>) (hp : p) (hq : q) (hr : r) :
      p <span class="bp">‚àß</span> ((p <span class="bp">‚àß</span> q) <span class="bp">‚àß</span> r) <span class="bp">‚àß</span> (q <span class="bp">‚àß</span> r <span class="bp">‚àß</span> p) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk277" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk277"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> ((p <span class="bp">‚àß</span> q) <span class="bp">‚àß</span> r) <span class="bp">‚àß</span> q <span class="bp">‚àß</span> r <span class="bp">‚àß</span> p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk278" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk278">repeat</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> ((p <span class="bp">‚àß</span> q) <span class="bp">‚àß</span> r) <span class="bp">‚àß</span> q <span class="bp">‚àß</span> r <span class="bp">‚àß</span> p</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">(</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk279" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk279">any_goals</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> ((p <span class="bp">‚àß</span> q) <span class="bp">‚àß</span> r) <span class="bp">‚àß</span> q <span class="bp">‚àß</span> r <span class="bp">‚àß</span> p</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk27a" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk27a">(</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">right</span></span><div class="goal-conclusion">((p <span class="bp">‚àß</span> q) <span class="bp">‚àß</span> r) <span class="bp">‚àß</span> q <span class="bp">‚àß</span> r <span class="bp">‚àß</span> p</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk27b" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk27b">first <span class="bp">|</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> ((p <span class="bp">‚àß</span> q) <span class="bp">‚àß</span> r) <span class="bp">‚àß</span> q <span class="bp">‚àß</span> r <span class="bp">‚àß</span> p</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk27c" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk27c">constructor</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">right.right.left</span></span><div class="goal-conclusion">q</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk27d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk27d"><hr><span class="goal-name">right.right.right</span></label><div class="goal-conclusion">r <span class="bp">‚àß</span> p</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk27e" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk27e"> <span class="bp">|</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> ((p <span class="bp">‚àß</span> q) <span class="bp">‚àß</span> r) <span class="bp">‚àß</span> q <span class="bp">‚àß</span> r <span class="bp">‚àß</span> p</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk27f" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk27f">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk280" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk280">)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">right.left</span></span><div class="goal-conclusion">(p <span class="bp">‚àß</span> q) <span class="bp">‚àß</span> r</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk281" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br><span><var>hr</var><span class="hyp-type"><b>: </b><span>r</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk281"><hr><span class="goal-name">right.right</span></label><div class="goal-conclusion">q <span class="bp">‚àß</span> r <span class="bp">‚àß</span> p</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk282" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk282">)</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>The combinator <tt class="docutils literal">focus t</tt> ensures that <tt class="docutils literal">t</tt> only effects the current
goal, temporarily hiding the others from the scope. So, if <tt class="docutils literal">t</tt>
ordinarily only effects the current goal, <tt class="docutils literal">focus (all_goals t)</tt> has
the same effect as <tt class="docutils literal">t</tt>.</p>
</div>
<div class="section" id="rewriting">
<h2>Rewriting</h2>
<p>The <tt class="docutils literal">rewrite</tt> tactic (abbreviated <tt class="docutils literal">rw</tt>) and the <tt class="docutils literal">simp</tt> tactic
were introduced briefly in <a class="reference external" href="./quantifiers_and_equality.md#calculational_proofs">Calculational Proofs</a>. In this
section and the next, we discuss them in greater detail.</p>
<p>The <tt class="docutils literal">rewrite</tt> tactic provides a basic mechanism for applying
substitutions to goals and hypotheses, providing a convenient and
efficient way of working with equality. The most basic form of the
tactic is <tt class="docutils literal">rewrite [t]</tt>, where <tt class="docutils literal">t</tt> is a term whose type asserts an
equality. For example, <tt class="docutils literal">t</tt> can be a hypothesis <tt class="docutils literal">h : x = y</tt> in the
context; it can be a general lemma, like
<tt class="docutils literal">add_comm : ‚àÄ x y, x + y = y + x</tt>, in which the rewrite tactic tries to find suitable
instantiations of <tt class="docutils literal">x</tt> and <tt class="docutils literal">y</tt>; or it can be any compound term
asserting a concrete or general equation. In the following example, we
use this basic form to rewrite the goal using a hypothesis.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (f : Nat <span class="bp">‚Üí</span> Nat) (k : Nat) (h‚ÇÅ : f <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span>) (h‚ÇÇ : k <span class="bp">=</span> <span class="mi">0</span>) : f k <span class="bp">=</span> <span class="mi">0</span> :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk283" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk283"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> Nat</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>f <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>k <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f k <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk284" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk284">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> Nat</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>f <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>k <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f k <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk285" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk285">h‚ÇÇ</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> Nat</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>f <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>k <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk286" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk286">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> Nat</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>f <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>k <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk287" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk287"> <span class="c1">-- replace k with 0</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> Nat</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>f <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>k <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f k <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk288" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk288">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> Nat</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>f <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>k <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk289" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk289">h‚ÇÅ</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> Nat</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>f <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>k <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk28a" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk28a">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span><span class="alectryon-wsp"> <span class="c1">-- replace f 0 with 0</span></span></pre><p>In the example above, the first use of <tt class="docutils literal">rw</tt> replaces <tt class="docutils literal">k</tt> with
<tt class="docutils literal">0</tt> in the goal <tt class="docutils literal">f k = 0</tt>. Then, the second one replaces <tt class="docutils literal">f 0</tt>
with <tt class="docutils literal">0</tt>. The tactic automatically closes any goal of the form
<tt class="docutils literal">t = t</tt>. Here is an example of rewriting using a compound expression:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (x y : Nat) (p : Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span>) (q : <span class="kt">Prop</span>) (h : q <span class="bp">‚Üí</span> x <span class="bp">=</span> y)
        (h&#39; : p y) (hq : q) : p x :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk28b" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk28b"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>q <span class="bp">‚Üí</span> x <span class="bp">=</span> y</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>p y</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk28c" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk28c">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>q <span class="bp">‚Üí</span> x <span class="bp">=</span> y</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>p y</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p x</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk28d" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk28d">h hq</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>q <span class="bp">‚Üí</span> x <span class="bp">=</span> y</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>p y</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p y</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk28e" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk28e">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>q <span class="bp">‚Üí</span> x <span class="bp">=</span> y</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>p y</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p y</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk28f" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk28f">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>Here, <tt class="docutils literal">h hq</tt> establishes the equation <tt class="docutils literal">x = y</tt>. The parentheses
around <tt class="docutils literal">h hq</tt> are not necessary, but we have added them for clarity.</p>
<p>Multiple rewrites can be combined using the notation <tt class="docutils literal">rw [t_1, <span class="pre">...,</span> t_n]</tt>,
which is just shorthand for <tt class="docutils literal">rw t_1; <span class="pre">...;</span> rw t_n</tt>. The previous example can be written as follows:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (f : Nat <span class="bp">‚Üí</span> Nat) (k : Nat) (h‚ÇÅ : f <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span>) (h‚ÇÇ : k <span class="bp">=</span> <span class="mi">0</span>) : f k <span class="bp">=</span> <span class="mi">0</span> :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk290" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk290"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> Nat</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>f <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>k <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f k <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk291" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk291">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> Nat</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>f <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>k <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f k <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk292" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk292">h‚ÇÇ,</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> Nat</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>f <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>k <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk293" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk293">h‚ÇÅ</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> Nat</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>f <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>k <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk294" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk294">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>By default, <tt class="docutils literal">rw</tt> uses an equation in the forward direction, matching
the left-hand side with an expression, and replacing it with the
right-hand side. The notation <tt class="docutils literal">‚Üêt</tt> can be used to instruct the
tactic to use the equality <tt class="docutils literal">t</tt> in the reverse direction.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (f : Nat <span class="bp">‚Üí</span> Nat) (a b : Nat) (h‚ÇÅ : a <span class="bp">=</span> b) (h‚ÇÇ : f a <span class="bp">=</span> <span class="mi">0</span>) : f b <span class="bp">=</span> <span class="mi">0</span> :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk295" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk295"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> Nat</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>a <span class="bp">=</span> b</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>f a <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f b <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk296" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk296">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> Nat</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>a <span class="bp">=</span> b</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>f a <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f b <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk297" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk297"><span class="bp">‚Üê</span>h‚ÇÅ,</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> Nat</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>a <span class="bp">=</span> b</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>f a <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f a <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk298" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk298">h‚ÇÇ</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> Nat</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>a <span class="bp">=</span> b</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>f a <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk299" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk299">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>In this example, the term <tt class="docutils literal">‚Üêh‚ÇÅ</tt> instructs the rewriter to replace
<tt class="docutils literal">b</tt> with <tt class="docutils literal">a</tt>. In the editors, you can type the backwards arrow as
<tt class="docutils literal">\l</tt>. You can also use the ascii equivalent, <tt class="docutils literal">&lt;-</tt>.</p>
<p>Sometimes the left-hand side of an identity can match more than one
subterm in the pattern, in which case the <tt class="docutils literal">rw</tt> tactic chooses the
first match it finds when traversing the term. If that is not the one
you want, you can use additional arguments to specify the appropriate
subterm.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (a b c : Nat) : a <span class="bp">+</span> b <span class="bp">+</span> c <span class="bp">=</span> a <span class="bp">+</span> c <span class="bp">+</span> b :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk29a" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk29a"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a <span class="bp">+</span> b <span class="bp">+</span> c <span class="bp">=</span> a <span class="bp">+</span> c <span class="bp">+</span> b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk29b" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk29b">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a <span class="bp">+</span> b <span class="bp">+</span> c <span class="bp">=</span> a <span class="bp">+</span> c <span class="bp">+</span> b</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk29c" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk29c">Nat.add_assoc,</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a <span class="bp">+</span> (b <span class="bp">+</span> c) <span class="bp">=</span> a <span class="bp">+</span> c <span class="bp">+</span> b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk29d" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk29d">Nat.add_comm b,</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a <span class="bp">+</span> (c <span class="bp">+</span> b) <span class="bp">=</span> a <span class="bp">+</span> c <span class="bp">+</span> b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk29e" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk29e"><span class="bp">‚Üê</span> Nat.add_assoc</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a <span class="bp">+</span> c <span class="bp">+</span> b <span class="bp">=</span> a <span class="bp">+</span> c <span class="bp">+</span> b</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk29f" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk29f">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">example</span> (a b c : Nat) : a <span class="bp">+</span> b <span class="bp">+</span> c <span class="bp">=</span> a <span class="bp">+</span> c <span class="bp">+</span> b :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2a0" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2a0"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a <span class="bp">+</span> b <span class="bp">+</span> c <span class="bp">=</span> a <span class="bp">+</span> c <span class="bp">+</span> b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2a1" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2a1">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a <span class="bp">+</span> b <span class="bp">+</span> c <span class="bp">=</span> a <span class="bp">+</span> c <span class="bp">+</span> b</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2a2" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2a2">Nat.add_assoc,</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a <span class="bp">+</span> (b <span class="bp">+</span> c) <span class="bp">=</span> a <span class="bp">+</span> c <span class="bp">+</span> b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2a3" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2a3">Nat.add_assoc,</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a <span class="bp">+</span> (b <span class="bp">+</span> c) <span class="bp">=</span> a <span class="bp">+</span> (c <span class="bp">+</span> b)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2a4" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2a4">Nat.add_comm b</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a <span class="bp">+</span> (c <span class="bp">+</span> b) <span class="bp">=</span> a <span class="bp">+</span> (c <span class="bp">+</span> b)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2a5" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2a5">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">example</span> (a b c : Nat) : a <span class="bp">+</span> b <span class="bp">+</span> c <span class="bp">=</span> a <span class="bp">+</span> c <span class="bp">+</span> b :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2a6" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2a6"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a <span class="bp">+</span> b <span class="bp">+</span> c <span class="bp">=</span> a <span class="bp">+</span> c <span class="bp">+</span> b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2a7" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2a7">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a <span class="bp">+</span> b <span class="bp">+</span> c <span class="bp">=</span> a <span class="bp">+</span> c <span class="bp">+</span> b</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2a8" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2a8">Nat.add_assoc,</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a <span class="bp">+</span> (b <span class="bp">+</span> c) <span class="bp">=</span> a <span class="bp">+</span> c <span class="bp">+</span> b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2a9" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2a9">Nat.add_assoc,</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a <span class="bp">+</span> (b <span class="bp">+</span> c) <span class="bp">=</span> a <span class="bp">+</span> (c <span class="bp">+</span> b)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2aa" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2aa">Nat.add_comm _ b</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>a, b, c</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a <span class="bp">+</span> (b <span class="bp">+</span> c) <span class="bp">=</span> a <span class="bp">+</span> (b <span class="bp">+</span> c)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2ab" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2ab">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>In the first example above, the first step rewrites <tt class="docutils literal">a + b + c</tt> to
<tt class="docutils literal">a + (b + c)</tt>. Then next applies commutativity to the term
<tt class="docutils literal">b + c</tt>; without specifying the argument, the tactic would instead rewrite
<tt class="docutils literal">a + (b + c)</tt> to <tt class="docutils literal">(b + c) + a</tt>. Finally, the last step applies
associativity in the reverse direction rewriting <tt class="docutils literal">a + (c + b)</tt> to
<tt class="docutils literal">a + c + b</tt>. The next two examples instead apply associativity to
move the parenthesis to the right on both sides, and then switch <tt class="docutils literal">b</tt>
and <tt class="docutils literal">c</tt>. Notice that the last example specifies that the rewrite
should take place on the right-hand side by specifying the second
argument to <tt class="docutils literal">Nat.add_comm</tt>.</p>
<p>By default, the <tt class="docutils literal">rewrite</tt> tactic affects only the goal. The notation
<tt class="docutils literal">rw [t] at h</tt> applies the rewrite <tt class="docutils literal">t</tt> at hypothesis <tt class="docutils literal">h</tt>.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (f : Nat <span class="bp">‚Üí</span> Nat) (a : Nat) (h : a <span class="bp">+</span> <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span>) : f a <span class="bp">=</span> f <span class="mi">0</span> :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2ac" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2ac"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> Nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>a <span class="bp">+</span> <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f a <span class="bp">=</span> f <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2ad" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2ad">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> Nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>a <span class="bp">+</span> <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f a <span class="bp">=</span> f <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2ae" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2ae">Nat.add_zero</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> Nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>a <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f a <span class="bp">=</span> f <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2af" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2af">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> Nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>a <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f a <span class="bp">=</span> f <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2b0" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2b0"> at h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> Nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>a <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f a <span class="bp">=</span> f <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2b1" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2b1">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> Nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>a <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f a <span class="bp">=</span> f <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2b2" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2b2">h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> Nat</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>a <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f <span class="mi">0</span> <span class="bp">=</span> f <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2b3" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2b3">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>The first step, <tt class="docutils literal">rw [Nat.add_zero] at h</tt>, rewrites the hypothesis <tt class="docutils literal">a + 0 = 0</tt> to <tt class="docutils literal">a = 0</tt>.
Then the new hypothesis <tt class="docutils literal">a = 0</tt> is used to rewrite the goal to <tt class="docutils literal">f 0 = f 0</tt>.</p>
<p>The <tt class="docutils literal">rewrite</tt> tactic is not restricted to propositions.
In the following example, we use <tt class="docutils literal">rw [h] at t</tt> to rewrite the hypothesis <tt class="docutils literal">t : Tuple Œ± n</tt> to <tt class="docutils literal">t : Tuple Œ± 0</tt>.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">def</span> Tuple (Œ± : <span class="kt">Type</span>) (n : Nat) :=
  { as : List Œ± <span class="bp">//</span> as.length <span class="bp">=</span> n }

<span class="kd">example</span> (n : Nat) (h : n <span class="bp">=</span> <span class="mi">0</span>) (t : Tuple Œ± n) : Tuple Œ± <span class="mi">0</span> :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2b4" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2b4"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ±</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n <span class="bp">=</span> <span class="mi">0</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>Tuple Œ± n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Tuple Œ± <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2b5" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2b5">rw [</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ±</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n <span class="bp">=</span> <span class="mi">0</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>Tuple Œ± n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Tuple Œ± <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2b6" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2b6">h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ±</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n <span class="bp">=</span> <span class="mi">0</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>Tuple Œ± <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Tuple Œ± <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2b7" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2b7">]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ±</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n <span class="bp">=</span> <span class="mi">0</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>Tuple Œ± <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Tuple Œ± <span class="mi">0</span></div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2b8" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2b8"> at t</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ±</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n <span class="bp">=</span> <span class="mi">0</span></span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>Tuple Œ± <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Tuple Œ± <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2b9" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2b9">exact t</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre></div>
<div class="section" id="using-the-simplifier">
<h2>Using the Simplifier</h2>
<p>Whereas <tt class="docutils literal">rewrite</tt> is designed as a surgical tool for manipulating a
goal, the simplifier offers a more powerful form of automation. A
number of identities in Lean's library have been tagged with the
<tt class="docutils literal">[simp]</tt> attribute, and the <tt class="docutils literal">simp</tt> tactic uses them to iteratively
rewrite subterms in an expression.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (x y z : Nat) (p : Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span>) (h : p (x <span class="bp">*</span> y))
        : (x <span class="bp">+</span> <span class="mi">0</span>) <span class="bp">*</span> (<span class="mi">0</span> <span class="bp">+</span> y <span class="bp">*</span> <span class="mi">1</span> <span class="bp">+</span> z <span class="bp">*</span> <span class="mi">0</span>) <span class="bp">=</span> x <span class="bp">*</span> y :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2ba" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2ba"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p (x <span class="bp">*</span> y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x <span class="bp">+</span> <span class="mi">0</span>) <span class="bp">*</span> (<span class="mi">0</span> <span class="bp">+</span> y <span class="bp">*</span> <span class="mi">1</span> <span class="bp">+</span> z <span class="bp">*</span> <span class="mi">0</span>) <span class="bp">=</span> x <span class="bp">*</span> y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2bb" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2bb">simp</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">example</span> (x y z : Nat) (p : Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span>) (h : p (x <span class="bp">*</span> y))
        : p ((x <span class="bp">+</span> <span class="mi">0</span>) <span class="bp">*</span> (<span class="mi">0</span> <span class="bp">+</span> y <span class="bp">*</span> <span class="mi">1</span> <span class="bp">+</span> z <span class="bp">*</span> <span class="mi">0</span>)) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2bc" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2bc"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p (x <span class="bp">*</span> y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p ((x <span class="bp">+</span> <span class="mi">0</span>) <span class="bp">*</span> (<span class="mi">0</span> <span class="bp">+</span> y <span class="bp">*</span> <span class="mi">1</span> <span class="bp">+</span> z <span class="bp">*</span> <span class="mi">0</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2bd" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2bd">simp</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p (x <span class="bp">*</span> y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p (x <span class="bp">*</span> y)</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2be" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2be">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>In the first example, the left-hand side of the equality in the goal
is simplified using the usual identities involving 0 and 1, reducing
the goal to <tt class="docutils literal">x * y = x * y</tt>. At that point, <tt class="docutils literal">simp</tt> applies
reflexivity to finish it off. In the second example, <tt class="docutils literal">simp</tt> reduces
the goal to <tt class="docutils literal">p (x * y)</tt>, at which point the assumption <tt class="docutils literal">h</tt>
finishes it off. Here are some more examples
with lists:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kn">open</span> List

<span class="kd">example</span> (xs : List Nat)
        : reverse (xs <span class="bp">++</span> [<span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span>]) <span class="bp">=</span> [<span class="mi">3</span>, <span class="mi">2</span>, <span class="mi">1</span>] <span class="bp">++</span> reverse xs :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2bf" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2bf"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>xs</var><span class="hyp-type"><b>: </b><span>List Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">reverse (xs <span class="bp">++</span> [<span class="mi">1</span>, <span class="mi">2</span>, <span class="mi">3</span>]) <span class="bp">=</span> [<span class="mi">3</span>, <span class="mi">2</span>, <span class="mi">1</span>] <span class="bp">++</span> reverse xs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2c0" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2c0">simp</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">example</span> (xs ys : List Œ±)
        : length (reverse (xs <span class="bp">++</span> ys)) <span class="bp">=</span> length xs <span class="bp">+</span> length ys :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2c1" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2c1"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ±</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> <span class="bp">?</span>u.9223</span></span></span><br><span><var>xs, ys</var><span class="hyp-type"><b>: </b><span>List Œ±</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">length (reverse (xs <span class="bp">++</span> ys)) <span class="bp">=</span> length xs <span class="bp">+</span> length ys</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2c2" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2c2">simp [Nat.add_comm]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>As with <tt class="docutils literal">rw</tt>, you can use the keyword <tt class="docutils literal">at</tt> to simplify a hypothesis:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (x y z : Nat) (p : Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span>)
        (h : p ((x <span class="bp">+</span> <span class="mi">0</span>) <span class="bp">*</span> (<span class="mi">0</span> <span class="bp">+</span> y <span class="bp">*</span> <span class="mi">1</span> <span class="bp">+</span> z <span class="bp">*</span> <span class="mi">0</span>))) : p (x <span class="bp">*</span> y) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2c3" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2c3"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p ((x <span class="bp">+</span> <span class="mi">0</span>) <span class="bp">*</span> (<span class="mi">0</span> <span class="bp">+</span> y <span class="bp">*</span> <span class="mi">1</span> <span class="bp">+</span> z <span class="bp">*</span> <span class="mi">0</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p (x <span class="bp">*</span> y)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2c4" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2c4">simp at h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p (x <span class="bp">*</span> y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p (x <span class="bp">*</span> y)</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2c5" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2c5">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>Moreover, you can use a &quot;wildcard&quot; asterisk to simplify all the hypotheses and the goal:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kn">attribute</span> [<span class="kn">local</span> simp] Nat.mul_comm Nat.mul_assoc Nat.mul_left_comm
<span class="kn">attribute</span> [<span class="kn">local</span> simp] Nat.add_assoc Nat.add_comm Nat.add_left_comm

<span class="kd">example</span> (w x y z : Nat) (p : Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span>)
        (h : p (x <span class="bp">*</span> y <span class="bp">+</span> z <span class="bp">*</span> w  <span class="bp">*</span> x)) : p (x <span class="bp">*</span> w <span class="bp">*</span> z <span class="bp">+</span> y <span class="bp">*</span> x) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2c6" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2c6"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>w, x, y, z</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p (x <span class="bp">*</span> y <span class="bp">+</span> z <span class="bp">*</span> w <span class="bp">*</span> x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p (x <span class="bp">*</span> w <span class="bp">*</span> z <span class="bp">+</span> y <span class="bp">*</span> x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2c7" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2c7">simp at <span class="bp">*</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>w, x, y, z</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p (x <span class="bp">*</span> y <span class="bp">+</span> w <span class="bp">*</span> (x <span class="bp">*</span> z))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p (x <span class="bp">*</span> y <span class="bp">+</span> w <span class="bp">*</span> (x <span class="bp">*</span> z))</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2c8" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2c8">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">example</span> (x y z : Nat) (p : Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span>)
        (h‚ÇÅ : p (<span class="mi">1</span> <span class="bp">*</span> x <span class="bp">+</span> y)) (h‚ÇÇ : p  (x <span class="bp">*</span> z <span class="bp">*</span> <span class="mi">1</span>))
        : p (y <span class="bp">+</span> <span class="mi">0</span> <span class="bp">+</span> x) <span class="bp">‚àß</span> p (z <span class="bp">*</span> x) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2c9" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2c9"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>p (<span class="mi">1</span> <span class="bp">*</span> x <span class="bp">+</span> y)</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>p (x <span class="bp">*</span> z <span class="bp">*</span> <span class="mi">1</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p (y <span class="bp">+</span> <span class="mi">0</span> <span class="bp">+</span> x) <span class="bp">‚àß</span> p (z <span class="bp">*</span> x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2ca" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2ca">simp at <span class="bp">*</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>p (x <span class="bp">+</span> y)</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>p (x <span class="bp">*</span> z)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p (x <span class="bp">+</span> y) <span class="bp">‚àß</span> p (x <span class="bp">*</span> z)</div></blockquote></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2cb" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2cb"> <span class="bp">&lt;;&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>p (<span class="mi">1</span> <span class="bp">*</span> x <span class="bp">+</span> y)</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>p (x <span class="bp">*</span> z <span class="bp">*</span> <span class="mi">1</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p (y <span class="bp">+</span> <span class="mi">0</span> <span class="bp">+</span> x) <span class="bp">‚àß</span> p (z <span class="bp">*</span> x)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2cc" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2cc">constructor</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>p (x <span class="bp">+</span> y)</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>p (x <span class="bp">*</span> z)</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">left</span></span><div class="goal-conclusion">p (x <span class="bp">+</span> y)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk2cd" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>p (x <span class="bp">+</span> y)</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>p (x <span class="bp">*</span> z)</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk2cd"><hr><span class="goal-name">right</span></label><div class="goal-conclusion">p (x <span class="bp">*</span> z)</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2ce" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2ce"> <span class="bp">&lt;;&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, y, z</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>p (x <span class="bp">+</span> y)</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>p (x <span class="bp">*</span> z)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p (x <span class="bp">+</span> y) <span class="bp">‚àß</span> p (x <span class="bp">*</span> z)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2cf" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2cf">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>For operations that are commutative and associative, like
multiplication on the natural numbers, the simplifier uses these two
facts to rewrite an expression, as well as <em>left commutativity</em>. In
the case of multiplication the latter is expressed as follows:
<tt class="docutils literal">x * (y * z) = y * (x * z)</tt>. The <tt class="docutils literal">local</tt> modifier tells the simplifier
to use these rules in the current file (or section or namespace, as
the case may be). It may seem that commutativity and
left-commutativity are problematic, in that repeated application of
either causes looping. But the simplifier detects identities that
permute their arguments, and uses a technique known as <em>ordered
rewriting</em>. This means that the system maintains an internal ordering
of terms, and only applies the identity if doing so decreases the
order. With the three identities mentioned above, this has the effect
that all the parentheses in an expression are associated to the right,
and the expressions are ordered in a canonical (though somewhat
arbitrary) way. Two expressions that are equivalent up to
associativity and commutativity are then rewritten to the same
canonical form.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="bp">#</span> <span class="kn">attribute</span> [<span class="kn">local</span> simp] Nat.mul_comm Nat.mul_assoc Nat.mul_left_comm
<span class="bp">#</span> <span class="kn">attribute</span> [<span class="kn">local</span> simp] Nat.add_assoc Nat.add_comm Nat.add_left_comm
<span class="kd">example</span> (w x y z : Nat) (p : Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span>)
        : x <span class="bp">*</span> y <span class="bp">+</span> z <span class="bp">*</span> w  <span class="bp">*</span> x <span class="bp">=</span> x <span class="bp">*</span> w <span class="bp">*</span> z <span class="bp">+</span> y <span class="bp">*</span> x :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2d0" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2d0"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>w, x, y, z</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x <span class="bp">*</span> y <span class="bp">+</span> z <span class="bp">*</span> w <span class="bp">*</span> x <span class="bp">=</span> x <span class="bp">*</span> w <span class="bp">*</span> z <span class="bp">+</span> y <span class="bp">*</span> x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2d1" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2d1">simp</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">example</span> (w x y z : Nat) (p : Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span>)
        (h : p (x <span class="bp">*</span> y <span class="bp">+</span> z <span class="bp">*</span> w  <span class="bp">*</span> x)) : p (x <span class="bp">*</span> w <span class="bp">*</span> z <span class="bp">+</span> y <span class="bp">*</span> x) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2d2" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2d2"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>w, x, y, z</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p (x <span class="bp">*</span> y <span class="bp">+</span> z <span class="bp">*</span> w <span class="bp">*</span> x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p (x <span class="bp">*</span> w <span class="bp">*</span> z <span class="bp">+</span> y <span class="bp">*</span> x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2d3" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2d3">simp</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>w, x, y, z</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p (x <span class="bp">*</span> y <span class="bp">+</span> z <span class="bp">*</span> w <span class="bp">*</span> x)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p (x <span class="bp">*</span> y <span class="bp">+</span> w <span class="bp">*</span> (x <span class="bp">*</span> z))</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2d4" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2d4">simp at h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>w, x, y, z</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p (x <span class="bp">*</span> y <span class="bp">+</span> w <span class="bp">*</span> (x <span class="bp">*</span> z))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p (x <span class="bp">*</span> y <span class="bp">+</span> w <span class="bp">*</span> (x <span class="bp">*</span> z))</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2d5" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2d5">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>As with <tt class="docutils literal">rewrite</tt>, you can send <tt class="docutils literal">simp</tt> a list of facts to use,
including general lemmas, local hypotheses, definitions to unfold, and
compound expressions. The <tt class="docutils literal">simp</tt> tactic also recognizes the <tt class="docutils literal">‚Üêt</tt>
syntax that <tt class="docutils literal">rewrite</tt> does. In any case, the additional rules are
added to the collection of identities that are used to simplify a
term.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">def</span> f (m n : Nat) : Nat :=
  m <span class="bp">+</span> n <span class="bp">+</span> m

<span class="kd">example</span> {m n : Nat} (h : n <span class="bp">=</span> <span class="mi">1</span>) (h&#39; : <span class="mi">0</span> <span class="bp">=</span> m) : (f m n) <span class="bp">=</span> n :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2d6" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2d6"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m, n</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>n <span class="bp">=</span> <span class="mi">1</span></span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> <span class="bp">=</span> m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f m n <span class="bp">=</span> n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2d7" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2d7">simp [h, <span class="bp">‚Üê</span>h&#39;, f]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>A common idiom is to simplify a goal using local hypotheses:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (f : Nat <span class="bp">‚Üí</span> Nat) (k : Nat) (h‚ÇÅ : f <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span>) (h‚ÇÇ : k <span class="bp">=</span> <span class="mi">0</span>) : f k <span class="bp">=</span> <span class="mi">0</span> :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2d8" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2d8"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> Nat</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>f <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>k <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f k <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2d9" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2d9">simp [h‚ÇÅ, h‚ÇÇ]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>To use all the hypotheses present in the local context when
simplifying, we can use the wildcard symbol, <tt class="docutils literal">*</tt>:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (f : Nat <span class="bp">‚Üí</span> Nat) (k : Nat) (h‚ÇÅ : f <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span>) (h‚ÇÇ : k <span class="bp">=</span> <span class="mi">0</span>) : f k <span class="bp">=</span> <span class="mi">0</span> :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2da" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2da"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>f</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> Nat</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>f <span class="mi">0</span> <span class="bp">=</span> <span class="mi">0</span></span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>k <span class="bp">=</span> <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f k <span class="bp">=</span> <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2db" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2db">simp [<span class="bp">*</span>]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>Here is another example:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (u w x y z : Nat) (h‚ÇÅ : x <span class="bp">=</span> y <span class="bp">+</span> z) (h‚ÇÇ : w <span class="bp">=</span> u <span class="bp">+</span> x)
        : w <span class="bp">=</span> z <span class="bp">+</span> y <span class="bp">+</span> u :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2dc" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2dc"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, w, x, y, z</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> y <span class="bp">+</span> z</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>w <span class="bp">=</span> u <span class="bp">+</span> x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">w <span class="bp">=</span> z <span class="bp">+</span> y <span class="bp">+</span> u</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2dd" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2dd">simp [<span class="bp">*</span>, Nat.add_assoc, Nat.add_comm, Nat.add_left_comm]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>The simplifier will also do propositional rewriting. For example,
using the hypothesis <tt class="docutils literal">p</tt>, it rewrites <tt class="docutils literal">p ‚àß q</tt> to <tt class="docutils literal">q</tt> and <tt class="docutils literal">p ‚à® q</tt> to <tt class="docutils literal">true</tt>, which it then proves trivially. Iterating such
rewrites produces nontrivial propositional reasoning.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (p q : <span class="kt">Prop</span>) (hp : p) : p <span class="bp">‚àß</span> q <span class="bp">‚Üî</span> q :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2de" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2de"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> q <span class="bp">‚Üî</span> q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2df" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2df">simp [<span class="bp">*</span>]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">example</span> (p q : <span class="kt">Prop</span>) (hp : p) : p <span class="bp">‚à®</span> q :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2e0" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2e0"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚à®</span> q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2e1" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2e1">simp [<span class="bp">*</span>]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">example</span> (p q r : <span class="kt">Prop</span>) (hp : p) (hq : q) : p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2e2" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2e2"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br><span><var>hq</var><span class="hyp-type"><b>: </b><span>q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2e3" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2e3">simp [<span class="bp">*</span>]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>The next example simplifies all the hypotheses, and then uses them to prove the goal.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">example</span> (u w x x&#39; y y&#39; z : Nat) (p : Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span>)
        (h‚ÇÅ : x <span class="bp">+</span> <span class="mi">0</span> <span class="bp">=</span> x&#39;) (h‚ÇÇ : y <span class="bp">+</span> <span class="mi">0</span> <span class="bp">=</span> y&#39;)
        : x <span class="bp">+</span> y <span class="bp">+</span> <span class="mi">0</span> <span class="bp">=</span> x&#39; <span class="bp">+</span> y&#39; :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2e4" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2e4"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, w, x, x', y, y', z</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>x <span class="bp">+</span> <span class="mi">0</span> <span class="bp">=</span> x&#39;</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>y <span class="bp">+</span> <span class="mi">0</span> <span class="bp">=</span> y&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x <span class="bp">+</span> y <span class="bp">+</span> <span class="mi">0</span> <span class="bp">=</span> x&#39; <span class="bp">+</span> y&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2e5" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2e5">simp at <span class="bp">*</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>u, w, x, x', y, y', z</var><span class="hyp-type"><b>: </b><span>Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h‚ÇÅ</var><span class="hyp-type"><b>: </b><span>x <span class="bp">=</span> x&#39;</span></span></span><br><span><var>h‚ÇÇ</var><span class="hyp-type"><b>: </b><span>y <span class="bp">=</span> y&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x <span class="bp">+</span> y <span class="bp">=</span> x&#39; <span class="bp">+</span> y&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2e6" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2e6">simp [<span class="bp">*</span>]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>One thing that makes the simplifier especially useful is that its
capabilities can grow as a library develops. For example, suppose we
define a list operation that symmetrizes its input by appending its
reversal:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">def</span> mk_symm (xs : List Œ±) :=
  xs <span class="bp">++</span> xs.reverse</span></pre><p>Then for any list <tt class="docutils literal">xs</tt>, <tt class="docutils literal">reverse (mk_symm xs)</tt> is equal to <tt class="docutils literal">mk_symm xs</tt>,
which can easily be proved by unfolding the definition:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="bp">#</span> <span class="kd">def</span> mk_symm (xs : List Œ±) :=
<span class="bp">#</span>  xs <span class="bp">++</span> xs.reverse
<span class="kd">theorem</span> reverse_mk_symm (xs : List Œ±)
        : (mk_symm xs)<span class="bp">.</span>reverse <span class="bp">=</span> mk_symm xs :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2e7" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2e7"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ±</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span> u_1</span></span></span><br><span><var>xs</var><span class="hyp-type"><b>: </b><span>List Œ±</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">reverse (mk_symm xs) <span class="bp">=</span> mk_symm xs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2e8" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2e8">simp [mk_symm]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>We can now use this theorem to prove new results:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="bp">#</span> <span class="kd">def</span> mk_symm (xs : List Œ±) :=
<span class="bp">#</span>  xs <span class="bp">++</span> xs.reverse
<span class="bp">#</span> <span class="kd">theorem</span> reverse_mk_symm (xs : List Œ±)
<span class="bp">#</span>        : (mk_symm xs)<span class="bp">.</span>reverse <span class="bp">=</span> mk_symm xs := <span class="kd">by</span>
<span class="bp">#</span>  simp [mk_symm]
<span class="kd">example</span> (xs ys : List Nat)
        : (xs <span class="bp">++</span> mk_symm ys)<span class="bp">.</span>reverse <span class="bp">=</span> mk_symm ys <span class="bp">++</span> xs.reverse :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2e9" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2e9"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>xs, ys</var><span class="hyp-type"><b>: </b><span>List Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">reverse (xs <span class="bp">++</span> mk_symm ys) <span class="bp">=</span> mk_symm ys <span class="bp">++</span> reverse xs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2ea" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2ea">simp [reverse_mk_symm]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">example</span> (xs ys : List Nat) (p : List Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span>)
        (h : p (xs <span class="bp">++</span> mk_symm ys)<span class="bp">.</span>reverse)
        : p (mk_symm ys <span class="bp">++</span> xs.reverse) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2eb" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2eb"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>xs, ys</var><span class="hyp-type"><b>: </b><span>List Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>List Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p (reverse (xs <span class="bp">++</span> mk_symm ys))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p (mk_symm ys <span class="bp">++</span> reverse xs)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2ec" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2ec">simp [reverse_mk_symm] at h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>xs, ys</var><span class="hyp-type"><b>: </b><span>List Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>List Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p (mk_symm ys <span class="bp">++</span> reverse xs)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p (mk_symm ys <span class="bp">++</span> reverse xs)</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2ed" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2ed">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>But using <tt class="docutils literal">reverse_mk_symm</tt> is generally the right thing to do, and
it would be nice if users did not have to invoke it explicitly. You can
achieve that by marking it as a simplification rule when the theorem
is defined:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="bp">#</span> <span class="kd">def</span> mk_symm (xs : List Œ±) :=
<span class="bp">#</span>  xs <span class="bp">++</span> xs.reverse
<span class="kd">@[simp]</span> <span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2ee" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2ee">reverse_mk_symm</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Error: <span class="bp">&#39;</span>reverse_mk_symm&#39; has already been declared</blockquote></div></div></small></span><span class="alectryon-wsp"> (xs : List Œ±)
        : (mk_symm xs)<span class="bp">.</span>reverse <span class="bp">=</span> mk_symm xs := <span class="kd">by</span>
  simp [mk_symm]

<span class="kd">example</span> (xs ys : List Nat)
        : (xs <span class="bp">++</span> mk_symm ys)<span class="bp">.</span>reverse <span class="bp">=</span> mk_symm ys <span class="bp">++</span> xs.reverse :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2ef" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2ef"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Error: unsolved goals
xs ys : List Nat
<span class="bp">‚ä¢</span> reverse (mk_symm ys) <span class="bp">++</span> reverse xs <span class="bp">=</span> mk_symm ys <span class="bp">++</span> reverse xs</blockquote></div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>xs, ys</var><span class="hyp-type"><b>: </b><span>List Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">reverse (xs <span class="bp">++</span> mk_symm ys) <span class="bp">=</span> mk_symm ys <span class="bp">++</span> reverse xs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2f0" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2f0">simp</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Error: unsolved goals
xs ys : List Nat
<span class="bp">‚ä¢</span> reverse (mk_symm ys) <span class="bp">++</span> reverse xs <span class="bp">=</span> mk_symm ys <span class="bp">++</span> reverse xs</blockquote></div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>xs, ys</var><span class="hyp-type"><b>: </b><span>List Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">reverse (mk_symm ys) <span class="bp">++</span> reverse xs <span class="bp">=</span> mk_symm ys <span class="bp">++</span> reverse xs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">example</span> (xs ys : List Nat) (p : List Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span>)
        (h : p (xs <span class="bp">++</span> mk_symm ys)<span class="bp">.</span>reverse)
        : p (mk_symm ys <span class="bp">++</span> xs.reverse) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2f1" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2f1"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>xs, ys</var><span class="hyp-type"><b>: </b><span>List Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>List Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p (reverse (xs <span class="bp">++</span> mk_symm ys))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p (mk_symm ys <span class="bp">++</span> reverse xs)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2f2" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2f2">simp at h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>xs, ys</var><span class="hyp-type"><b>: </b><span>List Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>List Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p (reverse (mk_symm ys) <span class="bp">++</span> reverse xs)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p (mk_symm ys <span class="bp">++</span> reverse xs)</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2f3" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2f3">assumption</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Error: tactic <span class="bp">&#39;</span>assumption&#39; failed
xs ys : List Nat
p : List Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span>
h : p (reverse (mk_symm ys) <span class="bp">++</span> reverse xs)
<span class="bp">‚ä¢</span> p (mk_symm ys <span class="bp">++</span> reverse xs)</blockquote></div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>xs, ys</var><span class="hyp-type"><b>: </b><span>List Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>List Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p (reverse (mk_symm ys) <span class="bp">++</span> reverse xs)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p (mk_symm ys <span class="bp">++</span> reverse xs)</div></blockquote></div></div></small></span></pre><p>The notation <tt class="docutils literal">&#64;[simp]</tt> declares <tt class="docutils literal">reverse_mk_symm</tt> to have the
<tt class="docutils literal">[simp]</tt> attribute, and can be spelled out more explicitly:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="bp">#</span> <span class="kd">def</span> mk_symm (xs : List Œ±) :=
<span class="bp">#</span>  xs <span class="bp">++</span> xs.reverse
<span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2f4" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2f4">reverse_mk_symm</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Error: <span class="bp">&#39;</span>reverse_mk_symm&#39; has already been declared</blockquote></div></div></small></span><span class="alectryon-wsp"> (xs : List Œ±)
        : (mk_symm xs)<span class="bp">.</span>reverse <span class="bp">=</span> mk_symm xs := <span class="kd">by</span>
  simp [mk_symm]

<span class="kn">attribute</span> [simp] reverse_mk_symm

<span class="kd">example</span> (xs ys : List Nat)
        : (xs <span class="bp">++</span> mk_symm ys)<span class="bp">.</span>reverse <span class="bp">=</span> mk_symm ys <span class="bp">++</span> xs.reverse :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2f5" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2f5"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>xs, ys</var><span class="hyp-type"><b>: </b><span>List Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">reverse (xs <span class="bp">++</span> mk_symm ys) <span class="bp">=</span> mk_symm ys <span class="bp">++</span> reverse xs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2f6" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2f6">simp</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">example</span> (xs ys : List Nat) (p : List Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span>)
        (h : p (xs <span class="bp">++</span> mk_symm ys)<span class="bp">.</span>reverse)
        : p (mk_symm ys <span class="bp">++</span> xs.reverse) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2f7" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2f7"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>xs, ys</var><span class="hyp-type"><b>: </b><span>List Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>List Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p (reverse (xs <span class="bp">++</span> mk_symm ys))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p (mk_symm ys <span class="bp">++</span> reverse xs)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2f8" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2f8">simp at h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>xs, ys</var><span class="hyp-type"><b>: </b><span>List Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>List Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p (mk_symm ys <span class="bp">++</span> reverse xs)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p (mk_symm ys <span class="bp">++</span> reverse xs)</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2f9" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2f9">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>The attribute can also be applied any time after the theorem is declared:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="bp">#</span> <span class="kd">def</span> mk_symm (xs : List Œ±) :=
<span class="bp">#</span>  xs <span class="bp">++</span> xs.reverse
<span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2fa" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2fa">reverse_mk_symm</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Error: <span class="bp">&#39;</span>reverse_mk_symm&#39; has already been declared</blockquote></div></div></small></span><span class="alectryon-wsp"> (xs : List Œ±)
        : (mk_symm xs)<span class="bp">.</span>reverse <span class="bp">=</span> mk_symm xs := <span class="kd">by</span>
  simp [mk_symm]

<span class="kd">example</span> (xs ys : List Nat)
        : (xs <span class="bp">++</span> mk_symm ys)<span class="bp">.</span>reverse <span class="bp">=</span> mk_symm ys <span class="bp">++</span> xs.reverse :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2fb" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2fb"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>xs, ys</var><span class="hyp-type"><b>: </b><span>List Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">reverse (xs <span class="bp">++</span> mk_symm ys) <span class="bp">=</span> mk_symm ys <span class="bp">++</span> reverse xs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2fc" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2fc">simp[reverse_mk_symm]</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kn">attribute</span> [simp] reverse_mk_symm

<span class="kd">example</span> (xs ys : List Nat) (p : List Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span>)
        (h : p (xs <span class="bp">++</span> mk_symm ys)<span class="bp">.</span>reverse)
        : p (mk_symm ys <span class="bp">++</span> xs.reverse) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2fd" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2fd"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>xs, ys</var><span class="hyp-type"><b>: </b><span>List Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>List Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p (reverse (xs <span class="bp">++</span> mk_symm ys))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p (mk_symm ys <span class="bp">++</span> reverse xs)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2fe" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2fe">simp at h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>xs, ys</var><span class="hyp-type"><b>: </b><span>List Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>List Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p (mk_symm ys <span class="bp">++</span> reverse xs)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p (mk_symm ys <span class="bp">++</span> reverse xs)</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk2ff" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk2ff">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre><p>Once the attribute is applied, however, there is no way to permanently
remove it; it persists in any file that imports the one where the
attribute is assigned. As we will discuss further in
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">recipes/lean4-tactics-myst.md</tt>, line 1416)</p>
Reference not found: TBD</div>
, one can limit the scope of an attribute to the
current file or section using the <tt class="docutils literal">local</tt> modifier:</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="bp">#</span> <span class="kd">def</span> mk_symm (xs : List Œ±) :=
<span class="bp">#</span>  xs <span class="bp">++</span> xs.reverse
<span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk300" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk300">reverse_mk_symm</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Error: <span class="bp">&#39;</span>reverse_mk_symm&#39; has already been declared</blockquote></div></div></small></span><span class="alectryon-wsp"> (xs : List Œ±)
        : (mk_symm xs)<span class="bp">.</span>reverse <span class="bp">=</span> mk_symm xs := <span class="kd">by</span>
  simp [mk_symm]

<span class="kn">section</span>
<span class="kn">attribute</span> [<span class="kn">local</span> simp] reverse_mk_symm

<span class="kd">example</span> (xs ys : List Nat)
        : (xs <span class="bp">++</span> mk_symm ys)<span class="bp">.</span>reverse <span class="bp">=</span> mk_symm ys <span class="bp">++</span> xs.reverse :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk301" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk301"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>xs, ys</var><span class="hyp-type"><b>: </b><span>List Nat</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">reverse (xs <span class="bp">++</span> mk_symm ys) <span class="bp">=</span> mk_symm ys <span class="bp">++</span> reverse xs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk302" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk302">simp</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">example</span> (xs ys : List Nat) (p : List Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span>)
        (h : p (xs <span class="bp">++</span> mk_symm ys)<span class="bp">.</span>reverse)
        : p (mk_symm ys <span class="bp">++</span> xs.reverse) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk303" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk303"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>xs, ys</var><span class="hyp-type"><b>: </b><span>List Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>List Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p (reverse (xs <span class="bp">++</span> mk_symm ys))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p (mk_symm ys <span class="bp">++</span> reverse xs)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk304" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk304">simp at h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>xs, ys</var><span class="hyp-type"><b>: </b><span>List Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>List Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p (mk_symm ys <span class="bp">++</span> reverse xs)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p (mk_symm ys <span class="bp">++</span> reverse xs)</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk305" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk305">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="kd">end</span></span></pre><p>Outside the section, the simplifier will no longer use
<tt class="docutils literal">reverse_mk_symm</tt> by default.</p>
<p>Note that the various <tt class="docutils literal">simp</tt> options we have discussed --- giving an
explicit list of rules, and using <tt class="docutils literal">at</tt> to specify the location --- can be combined,
but the order they are listed is rigid. You can see the correct order
in an editor by placing the cursor on the <tt class="docutils literal">simp</tt> identifier to see
the documentation string that is associated with it.</p>
<p>There are two additional modifiers that are useful. By default,
<tt class="docutils literal">simp</tt> includes all theorems that have been marked with the
attribute <tt class="docutils literal">[simp]</tt>. Writing <tt class="docutils literal">simp only</tt> excludes these defaults,
allowing you to use a more explicitly crafted list of
rules. In the examples below, the minus sign and
<tt class="docutils literal">only</tt> are used to block the application of <tt class="docutils literal">reverse_mk_symm</tt>.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="kd">def</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk306" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk306">mk_symm</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Error: <span class="bp">&#39;</span>mk_symm&#39; has already been declared</blockquote></div></div></small></span><span class="alectryon-wsp"> (xs : List Œ±) :=
  xs <span class="bp">++</span> xs.reverse
<span class="kd">@[simp]</span> <span class="kd">theorem</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk307" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk307">reverse_mk_symm</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Error: <span class="bp">&#39;</span>reverse_mk_symm&#39; has already been declared</blockquote></div></div></small></span><span class="alectryon-wsp"> (xs : List Œ±)
        : (mk_symm xs)<span class="bp">.</span>reverse <span class="bp">=</span> mk_symm xs := <span class="kd">by</span>
  simp [mk_symm]

<span class="kd">example</span> (xs ys : List Nat) (p : List Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span>)
        (h : p (xs <span class="bp">++</span> mk_symm ys)<span class="bp">.</span>reverse)
        : p (mk_symm ys <span class="bp">++</span> xs.reverse) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk308" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk308"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>xs, ys</var><span class="hyp-type"><b>: </b><span>List Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>List Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p (reverse (xs <span class="bp">++</span> mk_symm ys))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p (mk_symm ys <span class="bp">++</span> reverse xs)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk309" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk309">simp at h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>xs, ys</var><span class="hyp-type"><b>: </b><span>List Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>List Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p (mk_symm ys <span class="bp">++</span> reverse xs)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p (mk_symm ys <span class="bp">++</span> reverse xs)</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk30a" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk30a">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">example</span> (xs ys : List Nat) (p : List Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span>)
        (h : p (xs <span class="bp">++</span> mk_symm ys)<span class="bp">.</span>reverse)
        : p ((mk_symm ys)<span class="bp">.</span>reverse <span class="bp">++</span> xs.reverse) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk30b" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk30b"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>xs, ys</var><span class="hyp-type"><b>: </b><span>List Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>List Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p (reverse (xs <span class="bp">++</span> mk_symm ys))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p (reverse (mk_symm ys) <span class="bp">++</span> reverse xs)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk30c" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk30c">simp [<span class="bp">-</span>reverse_mk_symm] at h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>xs, ys</var><span class="hyp-type"><b>: </b><span>List Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>List Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p (reverse (mk_symm ys) <span class="bp">++</span> reverse xs)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p (reverse (mk_symm ys) <span class="bp">++</span> reverse xs)</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk30d" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk30d">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">example</span> (xs ys : List Nat) (p : List Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span>)
        (h : p (xs <span class="bp">++</span> mk_symm ys)<span class="bp">.</span>reverse)
        : p ((mk_symm ys)<span class="bp">.</span>reverse <span class="bp">++</span> xs.reverse) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk30e" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk30e"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>xs, ys</var><span class="hyp-type"><b>: </b><span>List Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>List Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p (reverse (xs <span class="bp">++</span> mk_symm ys))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p (reverse (mk_symm ys) <span class="bp">++</span> reverse xs)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk30f" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk30f">simp only [List.reverse_append] at h</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>xs, ys</var><span class="hyp-type"><b>: </b><span>List Nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>List Nat <span class="bp">‚Üí</span> <span class="kt">Prop</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p (reverse (mk_symm ys) <span class="bp">++</span> reverse xs)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p (reverse (mk_symm ys) <span class="bp">++</span> reverse xs)</div></blockquote></div></div></small></span><span class="alectryon-wsp"><span class="bp">;</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk310" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk310">assumption</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre></div>
<div class="section" id="extensible-tactics">
<h2>Extensible Tactics</h2>
<p>In the following example, we define the notation <tt class="docutils literal">triv</tt> using the command <tt class="docutils literal">syntax</tt>.
Then, we use the command <tt class="docutils literal">macro_rules</tt> to specify what should
be done when <tt class="docutils literal">triv</tt> is used. You can provide different expansions, and the tactic
interpreter will try all of them until one succeeds.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="c1">-- Define a new tactic notation</span>
syntax <span class="s2">&quot;triv&quot;</span> : tactic

macro_rules
  <span class="bp">|</span> <span class="bp">`</span>(tactic<span class="bp">|</span> triv) <span class="bp">=&gt;</span> <span class="bp">`</span>(tactic<span class="bp">|</span> assumption)

<span class="kd">example</span> (h : p) : p :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk311" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk311"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kt">Sort</span> <span class="bp">?</span>u.15422</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk312" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk312">triv</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c1">-- You cannot prove the following theorem using `triv`</span>
<span class="c1">-- example (x : Œ±) : x = x := by</span>
<span class="c1">--  triv</span>

<span class="c1">-- Let&#39;s extend `triv`. The tactic interpreter</span>
<span class="c1">-- tries all possible macro extensions for `triv` until one succeeds</span>
macro_rules
  <span class="bp">|</span> <span class="bp">`</span>(tactic<span class="bp">|</span> triv) <span class="bp">=&gt;</span> <span class="bp">`</span>(tactic<span class="bp">|</span> rfl)

<span class="kd">example</span> (x : Œ±) : x <span class="bp">=</span> x :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk313" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk313"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ±</var><span class="hyp-type"><b>: </b><span><span class="kt">Sort</span> <span class="bp">?</span>u.15721</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Œ±</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x <span class="bp">=</span> x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk314" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk314">triv</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="kd">example</span> (x : Œ±) (h : p) : x <span class="bp">=</span> x <span class="bp">‚àß</span> p :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk315" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk315"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ±</var><span class="hyp-type"><b>: </b><span><span class="kt">Sort</span> <span class="bp">?</span>u.15751</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Œ±</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x <span class="bp">=</span> x <span class="bp">‚àß</span> p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk316" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk316">apply And.intro</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ±</var><span class="hyp-type"><b>: </b><span><span class="kt">Sort</span> <span class="bp">?</span>u.15751</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Œ±</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">left</span></span><div class="goal-conclusion">x <span class="bp">=</span> x</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="lean4-tactics-myst-md-chk317" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ±</var><span class="hyp-type"><b>: </b><span><span class="kt">Sort</span> <span class="bp">?</span>u.15751</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Œ±</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><label class="goal-separator" for="lean4-tactics-myst-md-chk317"><hr><span class="goal-name">right</span></label><div class="goal-conclusion">p</div></blockquote></div></div></div></small></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk318" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk318"> <span class="bp">&lt;;&gt;</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ±</var><span class="hyp-type"><b>: </b><span><span class="kt">Sort</span> <span class="bp">?</span>u.15751</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Œ±</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x <span class="bp">=</span> x <span class="bp">‚àß</span> p</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk319" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk319">triv</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ±</var><span class="hyp-type"><b>: </b><span><span class="kt">Sort</span> <span class="bp">?</span>u.15751</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Œ±</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><span class="goal-separator"><hr><span class="goal-name">right</span></span><div class="goal-conclusion">p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c1">-- We now add a (recursive) extension</span>
macro_rules <span class="bp">|</span> <span class="bp">`</span>(tactic<span class="bp">|</span> triv) <span class="bp">=&gt;</span> <span class="bp">`</span>(tactic<span class="bp">|</span> apply And.intro <span class="bp">&lt;;&gt;</span> triv)

<span class="kd">example</span> (x : Œ±) (h : p) : x <span class="bp">=</span> x <span class="bp">‚àß</span> p :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk31a" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk31a"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Œ±</var><span class="hyp-type"><b>: </b><span><span class="kt">Sort</span> <span class="bp">?</span>u.16117</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Œ±</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x <span class="bp">=</span> x <span class="bp">‚àß</span> p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk31b" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk31b">triv</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre></div>
<div class="section" id="exercises">
<h2>Exercises</h2>
<ol class="simple">
<li>Go back to the exercises in <div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">recipes/lean4-tactics-myst.md</tt>, line 1525)</p>
Reference not found: ./propositions_and_proofs.md</div>
 and
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">recipes/lean4-tactics-myst.md</tt>, line 1525)</p>
Reference not found: ./quantifiers_and_equality.md</div>
 and
redo as many as you can now with tactic proofs, using also <tt class="docutils literal">rw</tt>
and <tt class="docutils literal">simp</tt> as appropriate.</li>
<li>Use tactic combinators to obtain a one line proof of the following:</li>
</ol>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"> <span class="kd">example</span> (p q r : <span class="kt">Prop</span>) (hp : p)
         : (p <span class="bp">‚à®</span> q <span class="bp">‚à®</span> r) <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> p <span class="bp">‚à®</span> r) <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r <span class="bp">‚à®</span> p) :=</span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk31c" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk31c"><span class="kd">by</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p, q, r</var><span class="hyp-type"><b>: </b><span><span class="kt">Prop</span></span></span></span><br><span><var>hp</var><span class="hyp-type"><b>: </b><span>p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(p <span class="bp">‚à®</span> q <span class="bp">‚à®</span> r) <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> p <span class="bp">‚à®</span> r) <span class="bp">‚àß</span> (q <span class="bp">‚à®</span> r <span class="bp">‚à®</span> p)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="lean4-tactics-myst-md-chk31d" style="display: none" type="checkbox"><label class="alectryon-input" for="lean4-tactics-myst-md-chk31d"><span class="gr">admit</span></label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">Warning: declaration uses <span class="bp">&#39;</span><span class="gr">sorry</span><span class="bp">&#39;</span></blockquote></div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">Goals accomplished<span class="bp">!</span> <span class="bp">üêô</span></div></blockquote></div></div></small></span></pre></div>
</div>
</div>
</div></body>
</html>
